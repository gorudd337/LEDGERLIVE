import"../../../assets/js/modulepreload-polyfill.0c213636.js";import{r as $e,j as Rr,a as _s,c as ws}from"../../../assets/js/client.5dec7e36.js";import{o as to,s as $n,c as Is,r as As}from"../../../assets/js/index.09a134a0.js";var br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ot=function(e,r){return Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])},Ot(e,r)};function Z(e,r){Ot(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function $t(e){return typeof e=="function"}var Rn=!1,le={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var r=new Error;""+r.stack}Rn=e},get useDeprecatedSynchronousErrorHandling(){return Rn}};function ze(e){setTimeout(function(){throw e},0)}var Cr={closed:!0,next:function(e){},error:function(e){if(le.useDeprecatedSynchronousErrorHandling)throw e;ze(e)},complete:function(){}},no=function(){return Array.isArray||function(e){return e&&typeof e.length=="number"}}();function io(e){return e!==null&&typeof e=="object"}var Ss=function(){function e(r){return Error.call(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r,this}return e.prototype=Object.create(Error.prototype),e}(),Nr=Ss,he=function(){function e(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._ctorUnsubscribe=!0,this._unsubscribe=r)}return e.prototype.unsubscribe=function(){var r;if(!this.closed){var t=this,n=t._parentOrParents,o=t._ctorUnsubscribe,i=t._unsubscribe,c=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(n!==null)for(var u=0;u<n.length;++u){var h=n[u];h.remove(this)}if($t(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(g){r=g instanceof Nr?Nn(g.errors):[g]}}if(no(c))for(var u=-1,f=c.length;++u<f;){var d=c[u];if(io(d))try{d.unsubscribe()}catch(b){r=r||[],b instanceof Nr?r=r.concat(Nn(b.errors)):r.push(b)}}if(r)throw new Nr(r)}},e.prototype.add=function(r){var t=r;if(!r)return e.EMPTY;switch(typeof r){case"function":t=new e(r);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof e)){var n=t;t=new e,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var o=t._parentOrParents;if(o===null)t._parentOrParents=this;else if(o instanceof e){if(o===this)return t;t._parentOrParents=[o,this]}else if(o.indexOf(this)===-1)o.push(this);else return t;var i=this._subscriptions;return i===null?this._subscriptions=[t]:i.push(t),t},e.prototype.remove=function(r){var t=this._subscriptions;if(t){var n=t.indexOf(r);n!==-1&&t.splice(n,1)}},e.EMPTY=function(r){return r.closed=!0,r}(new e),e}();function Nn(e){return e.reduce(function(r,t){return r.concat(t instanceof Nr?t.errors:t)},[])}var Dr=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),fe=function(e){Z(r,e);function r(t,n,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=Cr;break;case 1:if(!t){i.destination=Cr;break}if(typeof t=="object"){t instanceof r?(i.syncErrorThrowable=t.syncErrorThrowable,i.destination=t,t.add(i)):(i.syncErrorThrowable=!0,i.destination=new Ln(i,t));break}default:i.syncErrorThrowable=!0,i.destination=new Ln(i,t,n,o);break}return i}return r.prototype[Dr]=function(){return this},r.create=function(t,n,o){var i=new r(t,n,o);return i.syncErrorThrowable=!1,i},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},r}(he),Ln=function(e){Z(r,e);function r(t,n,o,i){var c=e.call(this)||this;c._parentSubscriber=t;var u,h=c;return $t(n)?u=n:n&&(u=n.next,o=n.error,i=n.complete,n!==Cr&&(h=Object.create(n),$t(h.unsubscribe)&&c.add(h.unsubscribe.bind(h)),h.unsubscribe=c.unsubscribe.bind(c))),c._context=h,c._next=u,c._error=o,c._complete=i,c}return r.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!le.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(n,this._next,t)&&this.unsubscribe()}},r.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,o=le.useDeprecatedSynchronousErrorHandling;if(this._error)!o||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(n,this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)o?(n.syncErrorValue=t,n.syncErrorThrown=!0):ze(t),this.unsubscribe();else{if(this.unsubscribe(),o)throw t;ze(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var o=function(){return t._complete.call(t._context)};!le.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(o),this.unsubscribe()):(this.__tryOrSetError(n,o),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(o){if(this.unsubscribe(),le.useDeprecatedSynchronousErrorHandling)throw o;ze(o)}},r.prototype.__tryOrSetError=function(t,n,o){if(!le.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,o)}catch(i){return le.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(ze(i),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(fe);function Ts(e){for(;e;){var r=e,t=r.closed,n=r.destination,o=r.isStopped;if(t||o)return!1;n&&n instanceof fe?e=n:e=null}return!0}function xs(e,r,t){if(e){if(e instanceof fe)return e;if(e[Dr])return e[Dr]()}return!e&&!r&&!t?new fe(Cr):new fe(e,r,t)}var pr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Os(e){return e}function $s(e){return e.length===0?Os:e.length===1?e[0]:function(t){return e.reduce(function(n,o){return o(n)},t)}}var J=function(){function e(r){this._isScalar=!1,r&&(this._subscribe=r)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(r,t,n){var o=this.operator,i=xs(r,t,n);if(o?i.add(o.call(i,this.source)):i.add(this.source||le.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),le.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(t){le.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=t),Ts(r)?r.error(t):console.warn(t)}},e.prototype.forEach=function(r,t){var n=this;return t=Pn(t),new t(function(o,i){var c;c=n.subscribe(function(u){try{r(u)}catch(h){i(h),c&&c.unsubscribe()}},i,o)})},e.prototype._subscribe=function(r){var t=this.source;return t&&t.subscribe(r)},e.prototype[pr]=function(){return this},e.prototype.pipe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.length===0?this:$s(r)(this)},e.prototype.toPromise=function(r){var t=this;return r=Pn(r),new r(function(n,o){var i;t.subscribe(function(c){return i=c},function(c){return o(c)},function(){return n(i)})})},e.create=function(r){return new e(r)},e}();function Pn(e){if(e||(e=le.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var Rs=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),sr=Rs,Ns=function(e){Z(r,e);function r(t,n){var o=e.call(this)||this;return o.subject=t,o.subscriber=n,o.closed=!1,o}return r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,!(!n||n.length===0||t.isStopped||t.closed)){var o=n.indexOf(this.subscriber);o!==-1&&n.splice(o,1)}}},r}(he),Ls=function(e){Z(r,e);function r(t){var n=e.call(this,t)||this;return n.destination=t,n}return r}(fe),qt=function(e){Z(r,e);function r(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.prototype[Dr]=function(){return new Ls(this)},r.prototype.lift=function(t){var n=new Cn(this,this);return n.operator=t,n},r.prototype.next=function(t){if(this.closed)throw new sr;if(!this.isStopped)for(var n=this.observers,o=n.length,i=n.slice(),c=0;c<o;c++)i[c].next(t)},r.prototype.error=function(t){if(this.closed)throw new sr;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,o=n.length,i=n.slice(),c=0;c<o;c++)i[c].error(t);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new sr;this.isStopped=!0;for(var t=this.observers,n=t.length,o=t.slice(),i=0;i<n;i++)o[i].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(t){if(this.closed)throw new sr;return e.prototype._trySubscribe.call(this,t)},r.prototype._subscribe=function(t){if(this.closed)throw new sr;return this.hasError?(t.error(this.thrownError),he.EMPTY):this.isStopped?(t.complete(),he.EMPTY):(this.observers.push(t),new Ns(this,t))},r.prototype.asObservable=function(){var t=new J;return t.source=this,t},r.create=function(t,n){return new Cn(t,n)},r}(J),Cn=function(e){Z(r,e);function r(t,n){var o=e.call(this)||this;return o.destination=t,o.source=n,o}return r.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},r.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},r.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},r.prototype._subscribe=function(t){var n=this.source;return n?this.source.subscribe(t):he.EMPTY},r}(qt),Ps=function(e){Z(r,e);function r(t,n){return e.call(this)||this}return r.prototype.schedule=function(t,n){return this},r}(he),Cs=function(e){Z(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.pending=!1,o}return r.prototype.schedule=function(t,n){if(n===void 0&&(n=0),this.closed)return this;this.state=t;var o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this},r.prototype.requestAsyncId=function(t,n,o){return o===void 0&&(o=0),setInterval(t.flush.bind(t,this),o)},r.prototype.recycleAsyncId=function(t,n,o){if(o===void 0&&(o=0),o!==null&&this.delay===o&&this.pending===!1)return n;clearInterval(n)},r.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(t,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(t,n){var o=!1,i=void 0;try{this.work(t)}catch(c){o=!0,i=!!c&&c||new Error(c)}if(o)return this.unsubscribe(),i},r.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,o=n.actions,i=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,i!==-1&&o.splice(i,1),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},r}(Ps),Dn=function(){function e(r,t){t===void 0&&(t=e.now),this.SchedulerAction=r,this.now=t}return e.prototype.schedule=function(r,t,n){return t===void 0&&(t=0),new this.SchedulerAction(this,r).schedule(n,t)},e.now=function(){return Date.now()},e}(),Ds=function(e){Z(r,e);function r(t,n){n===void 0&&(n=Dn.now);var o=e.call(this,t,function(){return r.delegate&&r.delegate!==o?r.delegate.now():n()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.prototype.schedule=function(t,n,o){return n===void 0&&(n=0),r.delegate&&r.delegate!==this?r.delegate.schedule(t,n,o):e.prototype.schedule.call(this,t,n,o)},r.prototype.flush=function(t){var n=this.actions;if(this.active){n.push(t);return}var o;this.active=!0;do if(o=t.execute(t.state,t.delay))break;while(t=n.shift());if(this.active=!1,o){for(;t=n.shift();)t.unsubscribe();throw o}},r}(Dn);function Rt(e){return e&&typeof e.schedule=="function"}var oo=function(e){return function(r){for(var t=0,n=e.length;t<n&&!r.closed;t++)r.next(e[t]);r.complete()}};function zt(e,r){return new J(function(t){var n=new he,o=0;return n.add(r.schedule(function(){if(o===e.length){t.complete();return}t.next(e[o++]),t.closed||n.add(this.schedule())})),n})}function Us(e,r){return r?zt(e,r):new J(oo(e))}function so(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e[e.length-1];return Rt(t)?(e.pop(),zt(e,t)):Us(e)}function Hr(e,r){return r?new J(function(t){return r.schedule(Bs,0,{error:e,subscriber:t})}):new J(function(t){return t.error(e)})}function Bs(e){var r=e.error,t=e.subscriber;t.error(r)}var Fs=new Ds(Cs),Wt=Fs,Ms=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),Gs=Ms;function Jt(e,r){return function(n){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new js(e,r))}}var js=function(){function e(r,t){this.project=r,this.thisArg=t}return e.prototype.call=function(r,t){return t.subscribe(new ks(r,this.project,this.thisArg))},e}(),ks=function(e){Z(r,e);function r(t,n,o){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=o||i,i}return r.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(o){this.destination.error(o);return}this.destination.next(n)},r}(fe),Hs=function(e){return function(r){return e.then(function(t){r.closed||(r.next(t),r.complete())},function(t){return r.error(t)}).then(null,ze),r}};function Xs(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xr=Xs(),Vs=function(e){return function(r){var t=e[Xr]();do{var n=void 0;try{n=t.next()}catch(o){return r.error(o),r}if(n.done){r.complete();break}if(r.next(n.value),r.closed)break}while(!0);return typeof t.return=="function"&&r.add(function(){t.return&&t.return()}),r}},Ks=function(e){return function(r){var t=e[pr]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(r)}},ao=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function co(e){return!!e&&typeof e.subscribe!="function"&&typeof e.then=="function"}var uo=function(e){if(!!e&&typeof e[pr]=="function")return Ks(e);if(ao(e))return oo(e);if(co(e))return Hs(e);if(!!e&&typeof e[Xr]=="function")return Vs(e);var r=io(e)?"an invalid object":"'"+e+"'",t="You provided "+r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(t)};function Ys(e,r){return new J(function(t){var n=new he;return n.add(r.schedule(function(){var o=e[pr]();n.add(o.subscribe({next:function(i){n.add(r.schedule(function(){return t.next(i)}))},error:function(i){n.add(r.schedule(function(){return t.error(i)}))},complete:function(){n.add(r.schedule(function(){return t.complete()}))}}))})),n})}function qs(e,r){return new J(function(t){var n=new he;return n.add(r.schedule(function(){return e.then(function(o){n.add(r.schedule(function(){t.next(o),n.add(r.schedule(function(){return t.complete()}))}))},function(o){n.add(r.schedule(function(){return t.error(o)}))})})),n})}function zs(e,r){if(!e)throw new Error("Iterable cannot be null");return new J(function(t){var n=new he,o;return n.add(function(){o&&typeof o.return=="function"&&o.return()}),n.add(r.schedule(function(){o=e[Xr](),n.add(r.schedule(function(){if(!t.closed){var i,c;try{var u=o.next();i=u.value,c=u.done}catch(h){t.error(h);return}c?t.complete():(t.next(i),this.schedule())}}))})),n})}function Ws(e){return e&&typeof e[pr]=="function"}function Js(e){return e&&typeof e[Xr]=="function"}function Zs(e,r){if(e!=null){if(Ws(e))return Ys(e,r);if(co(e))return qs(e,r);if(ao(e))return zt(e,r);if(Js(e)||typeof e=="string")return zs(e,r)}throw new TypeError((e!==null&&typeof e||e)+" is not observable")}function Zt(e,r){return r?Zs(e,r):e instanceof J?e:new J(uo(e))}var dr=function(e){Z(r,e);function r(t){var n=e.call(this)||this;return n.parent=t,n}return r.prototype._next=function(t){this.parent.notifyNext(t)},r.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},r}(fe),vr=function(e){Z(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.notifyNext=function(t){this.destination.next(t)},r.prototype.notifyError=function(t){this.destination.error(t)},r.prototype.notifyComplete=function(){this.destination.complete()},r}(fe);function yr(e,r){if(!r.closed){if(e instanceof J)return e.subscribe(r);var t;try{t=uo(e)(r)}catch(n){r.error(n)}return t}}function lo(e,r,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof r=="function"?function(n){return n.pipe(lo(function(o,i){return Zt(e(o,i)).pipe(Jt(function(c,u){return r(o,c,i,u)}))},t))}:(typeof r=="number"&&(t=r),function(n){return n.lift(new Qs(e,t))})}var Qs=function(){function e(r,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=r,this.concurrent=t}return e.prototype.call=function(r,t){return t.subscribe(new ea(r,this.project,this.concurrent))},e}(),ea=function(e){Z(r,e);function r(t,n,o){o===void 0&&(o=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},r.prototype._tryNext=function(t){var n,o=this.index++;try{n=this.project(t,o)}catch(i){this.destination.error(i);return}this.active++,this._innerSub(n)},r.prototype._innerSub=function(t){var n=new dr(this),o=this.destination;o.add(n);var i=yr(t,n);i!==n&&o.add(i)},r.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},r.prototype.notifyNext=function(t){this.destination.next(t)},r.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},r}(vr);function Un(e){return!no(e)&&e-parseFloat(e)+1>=0}function ra(e,r,t){e===void 0&&(e=0);var n=-1;return Un(r)?n=Number(r)<1&&1||Number(r):Rt(r)&&(t=r),Rt(t)||(t=Wt),new J(function(o){var i=Un(e)?e:+e-t.now();return t.schedule(ta,i,{index:0,period:n,subscriber:o})})}function ta(e){var r=e.index,t=e.period,n=e.subscriber;if(n.next(r),!n.closed){if(t===-1)return n.complete();e.index=r+1,this.schedule(e,t)}}function Nt(e){return function(t){var n=new na(e),o=t.lift(n);return n.caught=o}}var na=function(){function e(r){this.selector=r}return e.prototype.call=function(r,t){return t.subscribe(new ia(r,this.selector,this.caught))},e}(),ia=function(e){Z(r,e);function r(t,n,o){var i=e.call(this,t)||this;return i.selector=n,i.caught=o,i}return r.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(c){e.prototype.error.call(this,c);return}this._unsubscribeAndRecycle();var o=new dr(this);this.add(o);var i=yr(n,o);i!==o&&this.add(i)}},r}(vr);function oa(e){return e instanceof Date&&!isNaN(+e)}function sa(e){return function(r){return r.lift(new aa(e))}}var aa=function(){function e(r){this.callback=r}return e.prototype.call=function(r,t){return t.subscribe(new ca(r,this.callback))},e}(),ca=function(e){Z(r,e);function r(t,n){var o=e.call(this,t)||this;return o.add(new he(n)),o}return r}(fe);function ua(e,r){var t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new la(e,r,t))}}var la=function(){function e(r,t,n){n===void 0&&(n=!1),this.accumulator=r,this.seed=t,this.hasSeed=n}return e.prototype.call=function(r,t){return t.subscribe(new fa(r,this.accumulator,this.seed,this.hasSeed))},e}(),fa=function(e){Z(r,e);function r(t,n,o,i){var c=e.call(this,t)||this;return c.accumulator=n,c._seed=o,c.hasSeed=i,c.index=0,c}return Object.defineProperty(r.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),r.prototype._next=function(t){if(!this.hasSeed)this.seed=t,this.destination.next(t);else return this._tryNext(t)},r.prototype._tryNext=function(t){var n=this.index++,o;try{o=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=o,this.destination.next(o)},r}(fe);function ha(e){return function(r){return r.lift(new pa(e,r))}}var pa=function(){function e(r,t){this.notifier=r,this.source=t}return e.prototype.call=function(r,t){return t.subscribe(new da(r,this.notifier,this.source))},e}(),da=function(e){Z(r,e);function r(t,n,o){var i=e.call(this,t)||this;return i.notifier=n,i.source=o,i}return r.prototype.error=function(t){if(!this.isStopped){var n=this.errors,o=this.retries,i=this.retriesSubscription;if(o)this.errors=void 0,this.retriesSubscription=void 0;else{n=new qt;try{var c=this.notifier;o=c(n)}catch(u){return e.prototype.error.call(this,u)}i=yr(o,new dr(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=o,this.retriesSubscription=i,n.next(t)}},r.prototype._unsubscribe=function(){var t=this,n=t.errors,o=t.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),o&&(o.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},r.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},r}(vr);function Qt(e,r){return typeof r=="function"?function(t){return t.pipe(Qt(function(n,o){return Zt(e(n,o)).pipe(Jt(function(i,c){return r(n,i,o,c)}))}))}:function(t){return t.lift(new va(e))}}var va=function(){function e(r){this.project=r}return e.prototype.call=function(r,t){return t.subscribe(new ya(r,this.project))},e}(),ya=function(e){Z(r,e);function r(t,n){var o=e.call(this,t)||this;return o.project=n,o.index=0,o}return r.prototype._next=function(t){var n,o=this.index++;try{n=this.project(t,o)}catch(i){this.destination.error(i);return}this._innerSub(n)},r.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe();var o=new dr(this),i=this.destination;i.add(o),this.innerSubscription=yr(t,o),this.innerSubscription!==o&&i.add(this.innerSubscription)},r.prototype._complete=function(){var t=this.innerSubscription;(!t||t.closed)&&e.prototype._complete.call(this),this.unsubscribe()},r.prototype._unsubscribe=function(){this.innerSubscription=void 0},r.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},r.prototype.notifyNext=function(t){this.destination.next(t)},r}(vr);function ga(e,r,t){return t===void 0&&(t=Wt),function(n){var o=oa(e),i=o?+e-t.now():Math.abs(e);return n.lift(new Ea(i,o,r,t))}}var Ea=function(){function e(r,t,n,o){this.waitFor=r,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=o}return e.prototype.call=function(r,t){return t.subscribe(new ma(r,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),ma=function(e){Z(r,e);function r(t,n,o,i,c){var u=e.call(this,t)||this;return u.absoluteTimeout=n,u.waitFor=o,u.withObservable=i,u.scheduler=c,u.scheduleTimeout(),u}return r.dispatchTimeout=function(t){var n=t.withObservable;t._unsubscribeAndRecycle(),t.add(yr(n,new dr(t)))},r.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(r.dispatchTimeout,this.waitFor,this))},r.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},r.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},r}(vr);function ba(e,r){return r===void 0&&(r=Wt),ga(e,Hr(new Gs),r)}var ee={},Vr={};Vr.byteLength=Ia;Vr.toByteArray=Sa;Vr.fromByteArray=Oa;var ye=[],ae=[],_a=typeof Uint8Array<"u"?Uint8Array:Array,ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ke=0,wa=ft.length;Ke<wa;++Ke)ye[Ke]=ft[Ke],ae[ft.charCodeAt(Ke)]=Ke;ae["-".charCodeAt(0)]=62;ae["_".charCodeAt(0)]=63;function fo(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=r);var n=t===r?0:4-t%4;return[t,n]}function Ia(e){var r=fo(e),t=r[0],n=r[1];return(t+n)*3/4-n}function Aa(e,r,t){return(r+t)*3/4-t}function Sa(e){var r,t=fo(e),n=t[0],o=t[1],i=new _a(Aa(e,n,o)),c=0,u=o>0?n-4:n,h;for(h=0;h<u;h+=4)r=ae[e.charCodeAt(h)]<<18|ae[e.charCodeAt(h+1)]<<12|ae[e.charCodeAt(h+2)]<<6|ae[e.charCodeAt(h+3)],i[c++]=r>>16&255,i[c++]=r>>8&255,i[c++]=r&255;return o===2&&(r=ae[e.charCodeAt(h)]<<2|ae[e.charCodeAt(h+1)]>>4,i[c++]=r&255),o===1&&(r=ae[e.charCodeAt(h)]<<10|ae[e.charCodeAt(h+1)]<<4|ae[e.charCodeAt(h+2)]>>2,i[c++]=r>>8&255,i[c++]=r&255),i}function Ta(e){return ye[e>>18&63]+ye[e>>12&63]+ye[e>>6&63]+ye[e&63]}function xa(e,r,t){for(var n,o=[],i=r;i<t;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),o.push(Ta(n));return o.join("")}function Oa(e){for(var r,t=e.length,n=t%3,o=[],i=16383,c=0,u=t-n;c<u;c+=i)o.push(xa(e,c,c+i>u?u:c+i));return n===1?(r=e[t-1],o.push(ye[r>>2]+ye[r<<4&63]+"==")):n===2&&(r=(e[t-2]<<8)+e[t-1],o.push(ye[r>>10]+ye[r>>4&63]+ye[r<<2&63]+"=")),o.join("")}var en={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */en.read=function(e,r,t,n,o){var i,c,u=o*8-n-1,h=(1<<u)-1,f=h>>1,d=-7,g=t?o-1:0,b=t?-1:1,_=e[r+g];for(g+=b,i=_&(1<<-d)-1,_>>=-d,d+=u;d>0;i=i*256+e[r+g],g+=b,d-=8);for(c=i&(1<<-d)-1,i>>=-d,d+=n;d>0;c=c*256+e[r+g],g+=b,d-=8);if(i===0)i=1-f;else{if(i===h)return c?NaN:(_?-1:1)*(1/0);c=c+Math.pow(2,n),i=i-f}return(_?-1:1)*c*Math.pow(2,i-n)};en.write=function(e,r,t,n,o,i){var c,u,h,f=i*8-o-1,d=(1<<f)-1,g=d>>1,b=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:i-1,R=n?1:-1,$=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,c=d):(c=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-c))<1&&(c--,h*=2),c+g>=1?r+=b/h:r+=b*Math.pow(2,1-g),r*h>=2&&(c++,h/=2),c+g>=d?(u=0,c=d):c+g>=1?(u=(r*h-1)*Math.pow(2,o),c=c+g):(u=r*Math.pow(2,g-1)*Math.pow(2,o),c=0));o>=8;e[t+_]=u&255,_+=R,u/=256,o-=8);for(c=c<<o|u,f+=o;f>0;e[t+_]=c&255,_+=R,c/=256,f-=8);e[t+_-R]|=$*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const r=Vr,t=en,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=W,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const l=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(l,s),l.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(l){if(l>o)throw new RangeError('The value "'+l+'" is invalid for option "size"');const s=new Uint8Array(l);return Object.setPrototypeOf(s,u.prototype),s}function u(l,s,a){if(typeof l=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(l)}return h(l,s,a)}u.poolSize=8192;function h(l,s,a){if(typeof l=="string")return b(l,s);if(ArrayBuffer.isView(l))return R(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(ve(l,ArrayBuffer)||l&&ve(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(l,SharedArrayBuffer)||l&&ve(l.buffer,SharedArrayBuffer)))return $(l,s,a);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const p=l.valueOf&&l.valueOf();if(p!=null&&p!==l)return u.from(p,s,a);const v=C(l);if(v)return v;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return u.from(l[Symbol.toPrimitive]("string"),s,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}u.from=function(l,s,a){return h(l,s,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function f(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function d(l,s,a){return f(l),l<=0?c(l):s!==void 0?typeof a=="string"?c(l).fill(s,a):c(l).fill(s):c(l)}u.alloc=function(l,s,a){return d(l,s,a)};function g(l){return f(l),c(l<0?0:k(l)|0)}u.allocUnsafe=function(l){return g(l)},u.allocUnsafeSlow=function(l){return g(l)};function b(l,s){if((typeof s!="string"||s==="")&&(s="utf8"),!u.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const a=ie(l,s)|0;let p=c(a);const v=p.write(l,s);return v!==a&&(p=p.slice(0,v)),p}function _(l){const s=l.length<0?0:k(l.length)|0,a=c(s);for(let p=0;p<s;p+=1)a[p]=l[p]&255;return a}function R(l){if(ve(l,Uint8Array)){const s=new Uint8Array(l);return $(s.buffer,s.byteOffset,s.byteLength)}return _(l)}function $(l,s,a){if(s<0||l.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<s+(a||0))throw new RangeError('"length" is outside of buffer bounds');let p;return s===void 0&&a===void 0?p=new Uint8Array(l):a===void 0?p=new Uint8Array(l,s):p=new Uint8Array(l,s,a),Object.setPrototypeOf(p,u.prototype),p}function C(l){if(u.isBuffer(l)){const s=k(l.length)|0,a=c(s);return a.length===0||l.copy(a,0,0,s),a}if(l.length!==void 0)return typeof l.length!="number"||lt(l.length)?c(0):_(l);if(l.type==="Buffer"&&Array.isArray(l.data))return _(l.data)}function k(l){if(l>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return l|0}function W(l){return+l!=l&&(l=0),u.alloc(+l)}u.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==u.prototype},u.compare=function(s,a){if(ve(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),ve(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(s)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===a)return 0;let p=s.length,v=a.length;for(let y=0,E=Math.min(p,v);y<E;++y)if(s[y]!==a[y]){p=s[y],v=a[y];break}return p<v?-1:v<p?1:0},u.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(s,a){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return u.alloc(0);let p;if(a===void 0)for(a=0,p=0;p<s.length;++p)a+=s[p].length;const v=u.allocUnsafe(a);let y=0;for(p=0;p<s.length;++p){let E=s[p];if(ve(E,Uint8Array))y+E.length>v.length?(u.isBuffer(E)||(E=u.from(E)),E.copy(v,y)):Uint8Array.prototype.set.call(v,E,y);else if(u.isBuffer(E))E.copy(v,y);else throw new TypeError('"list" argument must be an Array of Buffers');y+=E.length}return v};function ie(l,s){if(u.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||ve(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const a=l.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&a===0)return 0;let v=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return ut(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return On(l).length;default:if(v)return p?-1:ut(l).length;s=(""+s).toLowerCase(),v=!0}}u.byteLength=ie;function oe(l,s,a){let p=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,s>>>=0,a<=s))return"";for(l||(l="utf8");;)switch(l){case"hex":return L(this,s,a);case"utf8":case"utf-8":return S(this,s,a);case"ascii":return N(this,s,a);case"latin1":case"binary":return M(this,s,a);case"base64":return O(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,s,a);default:if(p)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),p=!0}}u.prototype._isBuffer=!0;function z(l,s,a){const p=l[s];l[s]=l[a],l[a]=p}u.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<s;a+=2)z(this,a,a+1);return this},u.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<s;a+=4)z(this,a,a+3),z(this,a+1,a+2);return this},u.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<s;a+=8)z(this,a,a+7),z(this,a+1,a+6),z(this,a+2,a+5),z(this,a+3,a+4);return this},u.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?S(this,0,s):oe.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(s){if(!u.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:u.compare(this,s)===0},u.prototype.inspect=function(){let s="";const a=e.INSPECT_MAX_BYTES;return s=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(s+=" ... "),"<Buffer "+s+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(s,a,p,v,y){if(ve(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(a===void 0&&(a=0),p===void 0&&(p=s?s.length:0),v===void 0&&(v=0),y===void 0&&(y=this.length),a<0||p>s.length||v<0||y>this.length)throw new RangeError("out of range index");if(v>=y&&a>=p)return 0;if(v>=y)return-1;if(a>=p)return 1;if(a>>>=0,p>>>=0,v>>>=0,y>>>=0,this===s)return 0;let E=y-v,P=p-a;const Y=Math.min(E,P),K=this.slice(v,y),q=s.slice(a,p);for(let j=0;j<Y;++j)if(K[j]!==q[j]){E=K[j],P=q[j];break}return E<P?-1:P<E?1:0};function Ee(l,s,a,p,v){if(l.length===0)return-1;if(typeof a=="string"?(p=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,lt(a)&&(a=v?0:l.length-1),a<0&&(a=l.length+a),a>=l.length){if(v)return-1;a=l.length-1}else if(a<0)if(v)a=0;else return-1;if(typeof s=="string"&&(s=u.from(s,p)),u.isBuffer(s))return s.length===0?-1:me(l,s,a,p,v);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?v?Uint8Array.prototype.indexOf.call(l,s,a):Uint8Array.prototype.lastIndexOf.call(l,s,a):me(l,[s],a,p,v);throw new TypeError("val must be string, number or Buffer")}function me(l,s,a,p,v){let y=1,E=l.length,P=s.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(l.length<2||s.length<2)return-1;y=2,E/=2,P/=2,a/=2}function Y(q,j){return y===1?q[j]:q.readUInt16BE(j*y)}let K;if(v){let q=-1;for(K=a;K<E;K++)if(Y(l,K)===Y(s,q===-1?0:K-q)){if(q===-1&&(q=K),K-q+1===P)return q*y}else q!==-1&&(K-=K-q),q=-1}else for(a+P>E&&(a=E-P),K=a;K>=0;K--){let q=!0;for(let j=0;j<P;j++)if(Y(l,K+j)!==Y(s,j)){q=!1;break}if(q)return K}return-1}u.prototype.includes=function(s,a,p){return this.indexOf(s,a,p)!==-1},u.prototype.indexOf=function(s,a,p){return Ee(this,s,a,p,!0)},u.prototype.lastIndexOf=function(s,a,p){return Ee(this,s,a,p,!1)};function Ue(l,s,a,p){a=Number(a)||0;const v=l.length-a;p?(p=Number(p),p>v&&(p=v)):p=v;const y=s.length;p>y/2&&(p=y/2);let E;for(E=0;E<p;++E){const P=parseInt(s.substr(E*2,2),16);if(lt(P))return E;l[a+E]=P}return E}function be(l,s,a,p){return mr(ut(s,l.length-a),l,a,p)}function se(l,s,a,p){return mr(gs(s),l,a,p)}function I(l,s,a,p){return mr(On(s),l,a,p)}function w(l,s,a,p){return mr(Es(s,l.length-a),l,a,p)}u.prototype.write=function(s,a,p,v){if(a===void 0)v="utf8",p=this.length,a=0;else if(p===void 0&&typeof a=="string")v=a,p=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(p)?(p=p>>>0,v===void 0&&(v="utf8")):(v=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const y=this.length-a;if((p===void 0||p>y)&&(p=y),s.length>0&&(p<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");let E=!1;for(;;)switch(v){case"hex":return Ue(this,s,a,p);case"utf8":case"utf-8":return be(this,s,a,p);case"ascii":case"latin1":case"binary":return se(this,s,a,p);case"base64":return I(this,s,a,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,s,a,p);default:if(E)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),E=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(l,s,a){return s===0&&a===l.length?r.fromByteArray(l):r.fromByteArray(l.slice(s,a))}function S(l,s,a){a=Math.min(l.length,a);const p=[];let v=s;for(;v<a;){const y=l[v];let E=null,P=y>239?4:y>223?3:y>191?2:1;if(v+P<=a){let Y,K,q,j;switch(P){case 1:y<128&&(E=y);break;case 2:Y=l[v+1],(Y&192)===128&&(j=(y&31)<<6|Y&63,j>127&&(E=j));break;case 3:Y=l[v+1],K=l[v+2],(Y&192)===128&&(K&192)===128&&(j=(y&15)<<12|(Y&63)<<6|K&63,j>2047&&(j<55296||j>57343)&&(E=j));break;case 4:Y=l[v+1],K=l[v+2],q=l[v+3],(Y&192)===128&&(K&192)===128&&(q&192)===128&&(j=(y&15)<<18|(Y&63)<<12|(K&63)<<6|q&63,j>65535&&j<1114112&&(E=j))}}E===null?(E=65533,P=1):E>65535&&(E-=65536,p.push(E>>>10&1023|55296),E=56320|E&1023),p.push(E),v+=P}return T(p)}const x=4096;function T(l){const s=l.length;if(s<=x)return String.fromCharCode.apply(String,l);let a="",p=0;for(;p<s;)a+=String.fromCharCode.apply(String,l.slice(p,p+=x));return a}function N(l,s,a){let p="";a=Math.min(l.length,a);for(let v=s;v<a;++v)p+=String.fromCharCode(l[v]&127);return p}function M(l,s,a){let p="";a=Math.min(l.length,a);for(let v=s;v<a;++v)p+=String.fromCharCode(l[v]);return p}function L(l,s,a){const p=l.length;(!s||s<0)&&(s=0),(!a||a<0||a>p)&&(a=p);let v="";for(let y=s;y<a;++y)v+=ms[l[y]];return v}function X(l,s,a){const p=l.slice(s,a);let v="";for(let y=0;y<p.length-1;y+=2)v+=String.fromCharCode(p[y]+p[y+1]*256);return v}u.prototype.slice=function(s,a){const p=this.length;s=~~s,a=a===void 0?p:~~a,s<0?(s+=p,s<0&&(s=0)):s>p&&(s=p),a<0?(a+=p,a<0&&(a=0)):a>p&&(a=p),a<s&&(a=s);const v=this.subarray(s,a);return Object.setPrototypeOf(v,u.prototype),v};function B(l,s,a){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+s>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(s,a,p){s=s>>>0,a=a>>>0,p||B(s,a,this.length);let v=this[s],y=1,E=0;for(;++E<a&&(y*=256);)v+=this[s+E]*y;return v},u.prototype.readUintBE=u.prototype.readUIntBE=function(s,a,p){s=s>>>0,a=a>>>0,p||B(s,a,this.length);let v=this[s+--a],y=1;for(;a>0&&(y*=256);)v+=this[s+--a]*y;return v},u.prototype.readUint8=u.prototype.readUInt8=function(s,a){return s=s>>>0,a||B(s,1,this.length),this[s]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(s,a){return s=s>>>0,a||B(s,2,this.length),this[s]|this[s+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(s,a){return s=s>>>0,a||B(s,2,this.length),this[s]<<8|this[s+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(s,a){return s=s>>>0,a||B(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(s,a){return s=s>>>0,a||B(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},u.prototype.readBigUInt64LE=Oe(function(s){s=s>>>0,Ve(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&or(s,this.length-8);const v=a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,y=this[++s]+this[++s]*2**8+this[++s]*2**16+p*2**24;return BigInt(v)+(BigInt(y)<<BigInt(32))}),u.prototype.readBigUInt64BE=Oe(function(s){s=s>>>0,Ve(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&or(s,this.length-8);const v=a*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],y=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+p;return(BigInt(v)<<BigInt(32))+BigInt(y)}),u.prototype.readIntLE=function(s,a,p){s=s>>>0,a=a>>>0,p||B(s,a,this.length);let v=this[s],y=1,E=0;for(;++E<a&&(y*=256);)v+=this[s+E]*y;return y*=128,v>=y&&(v-=Math.pow(2,8*a)),v},u.prototype.readIntBE=function(s,a,p){s=s>>>0,a=a>>>0,p||B(s,a,this.length);let v=a,y=1,E=this[s+--v];for(;v>0&&(y*=256);)E+=this[s+--v]*y;return y*=128,E>=y&&(E-=Math.pow(2,8*a)),E},u.prototype.readInt8=function(s,a){return s=s>>>0,a||B(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},u.prototype.readInt16LE=function(s,a){s=s>>>0,a||B(s,2,this.length);const p=this[s]|this[s+1]<<8;return p&32768?p|4294901760:p},u.prototype.readInt16BE=function(s,a){s=s>>>0,a||B(s,2,this.length);const p=this[s+1]|this[s]<<8;return p&32768?p|4294901760:p},u.prototype.readInt32LE=function(s,a){return s=s>>>0,a||B(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},u.prototype.readInt32BE=function(s,a){return s=s>>>0,a||B(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},u.prototype.readBigInt64LE=Oe(function(s){s=s>>>0,Ve(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&or(s,this.length-8);const v=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(p<<24);return(BigInt(v)<<BigInt(32))+BigInt(a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),u.prototype.readBigInt64BE=Oe(function(s){s=s>>>0,Ve(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&or(s,this.length-8);const v=(a<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(v)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+p)}),u.prototype.readFloatLE=function(s,a){return s=s>>>0,a||B(s,4,this.length),t.read(this,s,!0,23,4)},u.prototype.readFloatBE=function(s,a){return s=s>>>0,a||B(s,4,this.length),t.read(this,s,!1,23,4)},u.prototype.readDoubleLE=function(s,a){return s=s>>>0,a||B(s,8,this.length),t.read(this,s,!0,52,8)},u.prototype.readDoubleBE=function(s,a){return s=s>>>0,a||B(s,8,this.length),t.read(this,s,!1,52,8)};function D(l,s,a,p,v,y){if(!u.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>v||s<y)throw new RangeError('"value" argument is out of bounds');if(a+p>l.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(s,a,p,v){if(s=+s,a=a>>>0,p=p>>>0,!v){const P=Math.pow(2,8*p)-1;D(this,s,a,p,P,0)}let y=1,E=0;for(this[a]=s&255;++E<p&&(y*=256);)this[a+E]=s/y&255;return a+p},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(s,a,p,v){if(s=+s,a=a>>>0,p=p>>>0,!v){const P=Math.pow(2,8*p)-1;D(this,s,a,p,P,0)}let y=p-1,E=1;for(this[a+y]=s&255;--y>=0&&(E*=256);)this[a+y]=s/E&255;return a+p},u.prototype.writeUint8=u.prototype.writeUInt8=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,1,255,0),this[a]=s&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,2,65535,0),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,2,65535,0),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,4,4294967295,0),this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=s&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,4,4294967295,0),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4};function xe(l,s,a,p,v){xn(s,p,v,l,a,7);let y=Number(s&BigInt(4294967295));l[a++]=y,y=y>>8,l[a++]=y,y=y>>8,l[a++]=y,y=y>>8,l[a++]=y;let E=Number(s>>BigInt(32)&BigInt(4294967295));return l[a++]=E,E=E>>8,l[a++]=E,E=E>>8,l[a++]=E,E=E>>8,l[a++]=E,a}function at(l,s,a,p,v){xn(s,p,v,l,a,7);let y=Number(s&BigInt(4294967295));l[a+7]=y,y=y>>8,l[a+6]=y,y=y>>8,l[a+5]=y,y=y>>8,l[a+4]=y;let E=Number(s>>BigInt(32)&BigInt(4294967295));return l[a+3]=E,E=E>>8,l[a+2]=E,E=E>>8,l[a+1]=E,E=E>>8,l[a]=E,a+8}u.prototype.writeBigUInt64LE=Oe(function(s,a=0){return xe(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Oe(function(s,a=0){return at(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(s,a,p,v){if(s=+s,a=a>>>0,!v){const Y=Math.pow(2,8*p-1);D(this,s,a,p,Y-1,-Y)}let y=0,E=1,P=0;for(this[a]=s&255;++y<p&&(E*=256);)s<0&&P===0&&this[a+y-1]!==0&&(P=1),this[a+y]=(s/E>>0)-P&255;return a+p},u.prototype.writeIntBE=function(s,a,p,v){if(s=+s,a=a>>>0,!v){const Y=Math.pow(2,8*p-1);D(this,s,a,p,Y-1,-Y)}let y=p-1,E=1,P=0;for(this[a+y]=s&255;--y>=0&&(E*=256);)s<0&&P===0&&this[a+y+1]!==0&&(P=1),this[a+y]=(s/E>>0)-P&255;return a+p},u.prototype.writeInt8=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,1,127,-128),s<0&&(s=255+s+1),this[a]=s&255,a+1},u.prototype.writeInt16LE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,2,32767,-32768),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeInt16BE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,2,32767,-32768),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeInt32LE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,4,2147483647,-2147483648),this[a]=s&255,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24,a+4},u.prototype.writeInt32BE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4},u.prototype.writeBigInt64LE=Oe(function(s,a=0){return xe(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Oe(function(s,a=0){return at(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function In(l,s,a,p,v,y){if(a+p>l.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function An(l,s,a,p,v){return s=+s,a=a>>>0,v||In(l,s,a,4),t.write(l,s,a,p,23,4),a+4}u.prototype.writeFloatLE=function(s,a,p){return An(this,s,a,!0,p)},u.prototype.writeFloatBE=function(s,a,p){return An(this,s,a,!1,p)};function Sn(l,s,a,p,v){return s=+s,a=a>>>0,v||In(l,s,a,8),t.write(l,s,a,p,52,8),a+8}u.prototype.writeDoubleLE=function(s,a,p){return Sn(this,s,a,!0,p)},u.prototype.writeDoubleBE=function(s,a,p){return Sn(this,s,a,!1,p)},u.prototype.copy=function(s,a,p,v){if(!u.isBuffer(s))throw new TypeError("argument should be a Buffer");if(p||(p=0),!v&&v!==0&&(v=this.length),a>=s.length&&(a=s.length),a||(a=0),v>0&&v<p&&(v=p),v===p||s.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),s.length-a<v-p&&(v=s.length-a+p);const y=v-p;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,p,v):Uint8Array.prototype.set.call(s,this.subarray(p,v),a),y},u.prototype.fill=function(s,a,p,v){if(typeof s=="string"){if(typeof a=="string"?(v=a,a=0,p=this.length):typeof p=="string"&&(v=p,p=this.length),v!==void 0&&typeof v!="string")throw new TypeError("encoding must be a string");if(typeof v=="string"&&!u.isEncoding(v))throw new TypeError("Unknown encoding: "+v);if(s.length===1){const E=s.charCodeAt(0);(v==="utf8"&&E<128||v==="latin1")&&(s=E)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(a<0||this.length<a||this.length<p)throw new RangeError("Out of range index");if(p<=a)return this;a=a>>>0,p=p===void 0?this.length:p>>>0,s||(s=0);let y;if(typeof s=="number")for(y=a;y<p;++y)this[y]=s;else{const E=u.isBuffer(s)?s:u.from(s,v),P=E.length;if(P===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(y=0;y<p-a;++y)this[y+a]=E[y%P]}return this};const Xe={};function ct(l,s,a){Xe[l]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${l}]`,this.stack,delete this.name}get code(){return l}set code(v){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:v,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}ct("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ct("ERR_INVALID_ARG_TYPE",function(l,s){return`The "${l}" argument must be of type number. Received type ${typeof s}`},TypeError),ct("ERR_OUT_OF_RANGE",function(l,s,a){let p=`The value of "${l}" is out of range.`,v=a;return Number.isInteger(a)&&Math.abs(a)>2**32?v=Tn(String(a)):typeof a=="bigint"&&(v=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(v=Tn(v)),v+="n"),p+=` It must be ${s}. Received ${v}`,p},RangeError);function Tn(l){let s="",a=l.length;const p=l[0]==="-"?1:0;for(;a>=p+4;a-=3)s=`_${l.slice(a-3,a)}${s}`;return`${l.slice(0,a)}${s}`}function ds(l,s,a){Ve(s,"offset"),(l[s]===void 0||l[s+a]===void 0)&&or(s,l.length-(a+1))}function xn(l,s,a,p,v,y){if(l>a||l<s){const E=typeof s=="bigint"?"n":"";let P;throw y>3?s===0||s===BigInt(0)?P=`>= 0${E} and < 2${E} ** ${(y+1)*8}${E}`:P=`>= -(2${E} ** ${(y+1)*8-1}${E}) and < 2 ** ${(y+1)*8-1}${E}`:P=`>= ${s}${E} and <= ${a}${E}`,new Xe.ERR_OUT_OF_RANGE("value",P,l)}ds(p,v,y)}function Ve(l,s){if(typeof l!="number")throw new Xe.ERR_INVALID_ARG_TYPE(s,"number",l)}function or(l,s,a){throw Math.floor(l)!==l?(Ve(l,a),new Xe.ERR_OUT_OF_RANGE(a||"offset","an integer",l)):s<0?new Xe.ERR_BUFFER_OUT_OF_BOUNDS:new Xe.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${s}`,l)}const vs=/[^+/0-9A-Za-z-_]/g;function ys(l){if(l=l.split("=")[0],l=l.trim().replace(vs,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function ut(l,s){s=s||1/0;let a;const p=l.length;let v=null;const y=[];for(let E=0;E<p;++E){if(a=l.charCodeAt(E),a>55295&&a<57344){if(!v){if(a>56319){(s-=3)>-1&&y.push(239,191,189);continue}else if(E+1===p){(s-=3)>-1&&y.push(239,191,189);continue}v=a;continue}if(a<56320){(s-=3)>-1&&y.push(239,191,189),v=a;continue}a=(v-55296<<10|a-56320)+65536}else v&&(s-=3)>-1&&y.push(239,191,189);if(v=null,a<128){if((s-=1)<0)break;y.push(a)}else if(a<2048){if((s-=2)<0)break;y.push(a>>6|192,a&63|128)}else if(a<65536){if((s-=3)<0)break;y.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((s-=4)<0)break;y.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return y}function gs(l){const s=[];for(let a=0;a<l.length;++a)s.push(l.charCodeAt(a)&255);return s}function Es(l,s){let a,p,v;const y=[];for(let E=0;E<l.length&&!((s-=2)<0);++E)a=l.charCodeAt(E),p=a>>8,v=a%256,y.push(v),y.push(p);return y}function On(l){return r.toByteArray(ys(l))}function mr(l,s,a,p){let v;for(v=0;v<p&&!(v+a>=s.length||v>=l.length);++v)s[v+a]=l[v];return v}function ve(l,s){return l instanceof s||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===s.name}function lt(l){return l!==l}const ms=function(){const l="0123456789abcdef",s=new Array(256);for(let a=0;a<16;++a){const p=a*16;for(let v=0;v<16;++v)s[p+v]=l[a]+l[v]}return s}();function Oe(l){return typeof BigInt>"u"?bs:l}function bs(){throw new Error("BigInt not supported")}})(ee);var $a=globalThis&&globalThis.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(d){try{f(n.next(d))}catch(g){c(g)}}function h(d){try{f(n.throw(d))}catch(g){c(g)}}function f(d){d.done?i(d.value):o(d.value).then(u,h)}f((n=n.apply(e,r||[])).next())})},Ra=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(d){return h([f,d])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(e,t)}catch(d){f=[6,d],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};const Na=function(e,r){return $a(void 0,void 0,void 0,function(){return Ra(this,function(t){switch(t.label){case 0:return[4,e.send(224,216,0,0,ee.Buffer.from(r,"ascii"))];case 1:return t.sent(),[2]}})})};var La=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();globalThis&&globalThis.__values;var m=function(e){var r=function(t){La(n,t);function n(o,i,c){var u=t.call(this,o||e,c)||this;if(Object.setPrototypeOf(u,n.prototype),u.name=e,i)for(var h in i)u[h]=i[h];if(c&&Pa(c)&&"cause"in c&&!("cause"in u)){var f=c.cause;u.cause=f,"stack"in f&&(u.stack=u.stack+`
CAUSE: `+f.stack)}return u}return n}(Error);return r};function Pa(e){return typeof e=="object"}var ho=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();m("AccountNameRequired");m("AccountNotSupported");m("AmountRequired");var Ca=m("BluetoothRequired");m("BtcUnmatchedApp");var Da=m("CantOpenDevice");m("CashAddrNotSupported");m("CurrencyNotSupported");m("DeviceAppVerifyNotSupported");m("DeviceGenuineSocketEarlyClose");m("DeviceNotGenuine");m("DeviceOnDashboardExpected");m("DeviceOnDashboardUnexpected");m("DeviceInOSUExpected");var Ua=m("DeviceHalted");m("DeviceNameInvalid");m("DeviceSocketFail");m("DeviceSocketNoBulkStatus");var Kr=m("LockedDeviceError"),po=m("DisconnectedDevice"),Ba=m("DisconnectedDeviceDuringOperation");m("DeviceExtractOnboardingStateError");m("DeviceOnboardingStatePollingError");m("EnpointConfig");m("EthAppPleaseEnableContractData");m("FeeEstimationFailed");m("FirmwareNotRecognized");m("HardResetFail");m("InvalidXRPTag");m("InvalidAddress");m("InvalidAddressBecauseDestinationIsAlsoSource");m("LatestMCUInstalledError");m("UnknownMCU");m("LedgerAPIError");m("LedgerAPIErrorWithMessage");m("LedgerAPINotAvailable");m("ManagerAppAlreadyInstalled");m("ManagerAppRelyOnBTC");m("ManagerAppDepInstallRequired");m("ManagerAppDepUninstallRequired");m("ManagerDeviceLocked");m("ManagerFirmwareNotEnoughSpace");m("ManagerNotEnoughSpace");m("ManagerUninstallBTCDep");m("NetworkDown");m("NoAddressesFound");m("NotEnoughBalance");m("NotEnoughBalanceToDelegate");m("NotEnoughBalanceInParentAccount");m("NotEnoughSpendableBalance");m("NotEnoughBalanceBecauseDestinationNotCreated");m("NoAccessToCamera");m("NotEnoughGas");m("NotSupportedLegacyAddress");m("GasLessThanEstimate");m("PriorityFeeTooLow");m("PriorityFeeTooHigh");m("PriorityFeeHigherThanMaxFee");m("MaxFeeTooLow");m("PasswordsDontMatch");m("PasswordIncorrect");m("RecommendSubAccountsToEmpty");m("RecommendUndelegation");m("TimeoutTagged");m("UnexpectedBootloader");m("MCUNotGenuineToDashboard");m("RecipientRequired");m("UnavailableTezosOriginatedAccountReceive");m("UnavailableTezosOriginatedAccountSend");m("UpdateFetchFileFail");m("UpdateIncorrectHash");m("UpdateIncorrectSig");m("UpdateYourApp");m("UserRefusedDeviceNameChange");m("UserRefusedAddress");m("UserRefusedFirmwareUpdate");m("UserRefusedAllowManager");m("UserRefusedOnDevice");var Bn=m("TransportOpenUserCancelled"),Fa=m("TransportInterfaceNotAvailable"),Ma=m("TransportRaceCondition"),Ga=m("TransportWebUSBGestureRequired");m("DeviceShouldStayInApp");m("WebsocketConnectionError");m("WebsocketConnectionFailed");m("WrongDeviceForAccount");m("WrongAppForCurrency");m("ETHAddressNonEIP");m("CantScanQRCode");m("FeeNotLoaded");m("FeeRequired");m("FeeTooHigh");m("PendingOperation");m("SyncError");m("PairingFailed");m("GenuineCheckFailed");m("LedgerAPI4xx");m("LedgerAPI5xx");var ja=m("FirmwareOrAppUpdateRequired");m("OpReturnSizeLimit");m("DustLimit");m("LanguageNotFound");m("NoDBPathGiven");m("DBWrongPassword");m("DBNotReset");var Fn;(function(e){e[e.Unknown=0]="Unknown",e[e.BleLocationServicesDisabled=1]="BleLocationServicesDisabled",e[e.BleBluetoothUnauthorized=2]="BleBluetoothUnauthorized",e[e.BleScanStartFailed=3]="BleScanStartFailed"})(Fn||(Fn={}));(function(e){ho(r,e);function r(t,n){var o=e.call(this,n)||this;return o.name="HwTransportError",o.type=t,Object.setPrototypeOf(o,r.prototype),o}return r})(Error);var Le=function(e){ho(r,e);function r(t,n){var o=this,i="TransportError";return o=e.call(this,t||i)||this,o.name=i,o.message=t,o.stack=new Error().stack,o.id=n,o}return r}(Error),lr={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,CUSTOM_IMAGE_BOOTLOADER:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761};function ka(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=e&&e<=28671)return"Internal error, please report"}function Ur(e){var r=Object.keys(lr).find(function(i){return lr[i]===e})||"UNKNOWN_ERROR",t=ka(e)||r,n=e.toString(16),o="Ledger device: ".concat(t," (0x").concat(n,")");if(e===lr.LOCKED_DEVICE)throw new Kr(o);this.name="TransportStatusError",this.message=o,this.stack=new Error().stack,this.statusCode=e,this.statusText=r}Ur.prototype=new Error;var Ha=0,Re=[],Ne=function(e,r,t){var n={type:e,id:String(++Ha),date:new Date};r&&(n.message=r),t&&(n.data=t),Va(n)},Xa=function(e){return Re.push(e),function(){var r=Re.indexOf(e);r!==-1&&(Re[r]=Re[Re.length-1],Re.pop())}};function Va(e){for(var r=0;r<Re.length;r++)try{Re[r](e)}catch(t){console.error(t)}}typeof window<"u"&&(window.__ledgerLogsListen=Xa);var Ka=typeof br=="object"&&br&&br.Object===Object&&br,vo=Ka,Ya=vo,qa=typeof self=="object"&&self&&self.Object===Object&&self,za=Ya||qa||Function("return this")(),Te=za,Wa=Te,Ja=Wa.Symbol,Yr=Ja,Mn=Yr,yo=Object.prototype,Za=yo.hasOwnProperty,Qa=yo.toString,ar=Mn?Mn.toStringTag:void 0;function ec(e){var r=Za.call(e,ar),t=e[ar];try{e[ar]=void 0;var n=!0}catch{}var o=Qa.call(e);return n&&(r?e[ar]=t:delete e[ar]),o}var rc=ec,tc=Object.prototype,nc=tc.toString;function ic(e){return nc.call(e)}var oc=ic,Gn=Yr,sc=rc,ac=oc,cc="[object Null]",uc="[object Undefined]",jn=Gn?Gn.toStringTag:void 0;function lc(e){return e==null?e===void 0?uc:cc:jn&&jn in Object(e)?sc(e):ac(e)}var gr=lc;function fc(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var rn=fc,hc=gr,pc=rn,dc="[object AsyncFunction]",vc="[object Function]",yc="[object GeneratorFunction]",gc="[object Proxy]";function Ec(e){if(!pc(e))return!1;var r=hc(e);return r==vc||r==yc||r==dc||r==gc}var go=Ec,mc=Te,bc=mc["__core-js_shared__"],_c=bc,ht=_c,kn=function(){var e=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function wc(e){return!!kn&&kn in e}var Ic=wc,Ac=Function.prototype,Sc=Ac.toString;function Tc(e){if(e!=null){try{return Sc.call(e)}catch{}try{return e+""}catch{}}return""}var Eo=Tc,xc=go,Oc=Ic,$c=rn,Rc=Eo,Nc=/[\\^$.*+?()[\]{}|]/g,Lc=/^\[object .+?Constructor\]$/,Pc=Function.prototype,Cc=Object.prototype,Dc=Pc.toString,Uc=Cc.hasOwnProperty,Bc=RegExp("^"+Dc.call(Uc).replace(Nc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Fc(e){if(!$c(e)||Oc(e))return!1;var r=xc(e)?Bc:Lc;return r.test(Rc(e))}var Mc=Fc;function Gc(e,r){return e==null?void 0:e[r]}var jc=Gc,kc=Mc,Hc=jc;function Xc(e,r){var t=Hc(e,r);return kc(t)?t:void 0}var He=Xc,Vc=He,Kc=function(){try{var e=Vc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Yc=Kc,Hn=Yc;function qc(e,r,t){r=="__proto__"&&Hn?Hn(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var zc=qc;function Wc(e){return function(r,t,n){for(var o=-1,i=Object(r),c=n(r),u=c.length;u--;){var h=c[e?u:++o];if(t(i[h],h,i)===!1)break}return r}}var Jc=Wc,Zc=Jc,Qc=Zc(),eu=Qc;function ru(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var tu=ru;function nu(e){return e!=null&&typeof e=="object"}var Er=nu,iu=gr,ou=Er,su="[object Arguments]";function au(e){return ou(e)&&iu(e)==su}var cu=au,Xn=cu,uu=Er,mo=Object.prototype,lu=mo.hasOwnProperty,fu=mo.propertyIsEnumerable,hu=Xn(function(){return arguments}())?Xn:function(e){return uu(e)&&lu.call(e,"callee")&&!fu.call(e,"callee")},bo=hu,pu=Array.isArray,De=pu,Br={exports:{}};function du(){return!1}var vu=du;(function(e,r){var t=Te,n=vu,o=r&&!r.nodeType&&r,i=o&&!0&&e&&!e.nodeType&&e,c=i&&i.exports===o,u=c?t.Buffer:void 0,h=u?u.isBuffer:void 0,f=h||n;e.exports=f})(Br,Br.exports);var yu=9007199254740991,gu=/^(?:0|[1-9]\d*)$/;function Eu(e,r){var t=typeof e;return r=r==null?yu:r,!!r&&(t=="number"||t!="symbol"&&gu.test(e))&&e>-1&&e%1==0&&e<r}var _o=Eu,mu=9007199254740991;function bu(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mu}var tn=bu,_u=gr,wu=tn,Iu=Er,Au="[object Arguments]",Su="[object Array]",Tu="[object Boolean]",xu="[object Date]",Ou="[object Error]",$u="[object Function]",Ru="[object Map]",Nu="[object Number]",Lu="[object Object]",Pu="[object RegExp]",Cu="[object Set]",Du="[object String]",Uu="[object WeakMap]",Bu="[object ArrayBuffer]",Fu="[object DataView]",Mu="[object Float32Array]",Gu="[object Float64Array]",ju="[object Int8Array]",ku="[object Int16Array]",Hu="[object Int32Array]",Xu="[object Uint8Array]",Vu="[object Uint8ClampedArray]",Ku="[object Uint16Array]",Yu="[object Uint32Array]",V={};V[Mu]=V[Gu]=V[ju]=V[ku]=V[Hu]=V[Xu]=V[Vu]=V[Ku]=V[Yu]=!0;V[Au]=V[Su]=V[Bu]=V[Tu]=V[Fu]=V[xu]=V[Ou]=V[$u]=V[Ru]=V[Nu]=V[Lu]=V[Pu]=V[Cu]=V[Du]=V[Uu]=!1;function qu(e){return Iu(e)&&wu(e.length)&&!!V[_u(e)]}var zu=qu;function Wu(e){return function(r){return e(r)}}var Ju=Wu,Lt={exports:{}};(function(e,r){var t=vo,n=r&&!r.nodeType&&r,o=n&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===n,c=i&&t.process,u=function(){try{var h=o&&o.require&&o.require("util").types;return h||c&&c.binding&&c.binding("util")}catch{}}();e.exports=u})(Lt,Lt.exports);var Zu=zu,Qu=Ju,Vn=Lt.exports,Kn=Vn&&Vn.isTypedArray,el=Kn?Qu(Kn):Zu,wo=el,rl=tu,tl=bo,nl=De,il=Br.exports,ol=_o,sl=wo,al=Object.prototype,cl=al.hasOwnProperty;function ul(e,r){var t=nl(e),n=!t&&tl(e),o=!t&&!n&&il(e),i=!t&&!n&&!o&&sl(e),c=t||n||o||i,u=c?rl(e.length,String):[],h=u.length;for(var f in e)(r||cl.call(e,f))&&!(c&&(f=="length"||o&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||ol(f,h)))&&u.push(f);return u}var ll=ul,fl=Object.prototype;function hl(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||fl;return e===t}var pl=hl;function dl(e,r){return function(t){return e(r(t))}}var vl=dl,yl=vl,gl=yl(Object.keys,Object),El=gl,ml=pl,bl=El,_l=Object.prototype,wl=_l.hasOwnProperty;function Il(e){if(!ml(e))return bl(e);var r=[];for(var t in Object(e))wl.call(e,t)&&t!="constructor"&&r.push(t);return r}var Al=Il,Sl=go,Tl=tn;function xl(e){return e!=null&&Tl(e.length)&&!Sl(e)}var Ol=xl,$l=ll,Rl=Al,Nl=Ol;function Ll(e){return Nl(e)?$l(e):Rl(e)}var nn=Ll,Pl=eu,Cl=nn;function Dl(e,r){return e&&Pl(e,r,Cl)}var Ul=Dl;function Bl(){this.__data__=[],this.size=0}var Fl=Bl;function Ml(e,r){return e===r||e!==e&&r!==r}var Io=Ml,Gl=Io;function jl(e,r){for(var t=e.length;t--;)if(Gl(e[t][0],r))return t;return-1}var qr=jl,kl=qr,Hl=Array.prototype,Xl=Hl.splice;function Vl(e){var r=this.__data__,t=kl(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():Xl.call(r,t,1),--this.size,!0}var Kl=Vl,Yl=qr;function ql(e){var r=this.__data__,t=Yl(r,e);return t<0?void 0:r[t][1]}var zl=ql,Wl=qr;function Jl(e){return Wl(this.__data__,e)>-1}var Zl=Jl,Ql=qr;function ef(e,r){var t=this.__data__,n=Ql(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var rf=ef,tf=Fl,nf=Kl,of=zl,sf=Zl,af=rf;function Qe(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Qe.prototype.clear=tf;Qe.prototype.delete=nf;Qe.prototype.get=of;Qe.prototype.has=sf;Qe.prototype.set=af;var zr=Qe,cf=zr;function uf(){this.__data__=new cf,this.size=0}var lf=uf;function ff(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var hf=ff;function pf(e){return this.__data__.get(e)}var df=pf;function vf(e){return this.__data__.has(e)}var yf=vf,gf=He,Ef=Te,mf=gf(Ef,"Map"),on=mf,bf=He,_f=bf(Object,"create"),Wr=_f,Yn=Wr;function wf(){this.__data__=Yn?Yn(null):{},this.size=0}var If=wf;function Af(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var Sf=Af,Tf=Wr,xf="__lodash_hash_undefined__",Of=Object.prototype,$f=Of.hasOwnProperty;function Rf(e){var r=this.__data__;if(Tf){var t=r[e];return t===xf?void 0:t}return $f.call(r,e)?r[e]:void 0}var Nf=Rf,Lf=Wr,Pf=Object.prototype,Cf=Pf.hasOwnProperty;function Df(e){var r=this.__data__;return Lf?r[e]!==void 0:Cf.call(r,e)}var Uf=Df,Bf=Wr,Ff="__lodash_hash_undefined__";function Mf(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Bf&&r===void 0?Ff:r,this}var Gf=Mf,jf=If,kf=Sf,Hf=Nf,Xf=Uf,Vf=Gf;function er(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}er.prototype.clear=jf;er.prototype.delete=kf;er.prototype.get=Hf;er.prototype.has=Xf;er.prototype.set=Vf;var Kf=er,qn=Kf,Yf=zr,qf=on;function zf(){this.size=0,this.__data__={hash:new qn,map:new(qf||Yf),string:new qn}}var Wf=zf;function Jf(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Zf=Jf,Qf=Zf;function eh(e,r){var t=e.__data__;return Qf(r)?t[typeof r=="string"?"string":"hash"]:t.map}var Jr=eh,rh=Jr;function th(e){var r=rh(this,e).delete(e);return this.size-=r?1:0,r}var nh=th,ih=Jr;function oh(e){return ih(this,e).get(e)}var sh=oh,ah=Jr;function ch(e){return ah(this,e).has(e)}var uh=ch,lh=Jr;function fh(e,r){var t=lh(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var hh=fh,ph=Wf,dh=nh,vh=sh,yh=uh,gh=hh;function rr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}rr.prototype.clear=ph;rr.prototype.delete=dh;rr.prototype.get=vh;rr.prototype.has=yh;rr.prototype.set=gh;var sn=rr,Eh=zr,mh=on,bh=sn,_h=200;function wh(e,r){var t=this.__data__;if(t instanceof Eh){var n=t.__data__;if(!mh||n.length<_h-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new bh(n)}return t.set(e,r),this.size=t.size,this}var Ih=wh,Ah=zr,Sh=lf,Th=hf,xh=df,Oh=yf,$h=Ih;function tr(e){var r=this.__data__=new Ah(e);this.size=r.size}tr.prototype.clear=Sh;tr.prototype.delete=Th;tr.prototype.get=xh;tr.prototype.has=Oh;tr.prototype.set=$h;var Ao=tr,Rh="__lodash_hash_undefined__";function Nh(e){return this.__data__.set(e,Rh),this}var Lh=Nh;function Ph(e){return this.__data__.has(e)}var Ch=Ph,Dh=sn,Uh=Lh,Bh=Ch;function Fr(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Dh;++r<t;)this.add(e[r])}Fr.prototype.add=Fr.prototype.push=Uh;Fr.prototype.has=Bh;var Fh=Fr;function Mh(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Gh=Mh;function jh(e,r){return e.has(r)}var kh=jh,Hh=Fh,Xh=Gh,Vh=kh,Kh=1,Yh=2;function qh(e,r,t,n,o,i){var c=t&Kh,u=e.length,h=r.length;if(u!=h&&!(c&&h>u))return!1;var f=i.get(e),d=i.get(r);if(f&&d)return f==r&&d==e;var g=-1,b=!0,_=t&Yh?new Hh:void 0;for(i.set(e,r),i.set(r,e);++g<u;){var R=e[g],$=r[g];if(n)var C=c?n($,R,g,r,e,i):n(R,$,g,e,r,i);if(C!==void 0){if(C)continue;b=!1;break}if(_){if(!Xh(r,function(k,W){if(!Vh(_,W)&&(R===k||o(R,k,t,n,i)))return _.push(W)})){b=!1;break}}else if(!(R===$||o(R,$,t,n,i))){b=!1;break}}return i.delete(e),i.delete(r),b}var So=qh,zh=Te,Wh=zh.Uint8Array,Jh=Wh;function Zh(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Qh=Zh;function ep(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var rp=ep,zn=Yr,Wn=Jh,tp=Io,np=So,ip=Qh,op=rp,sp=1,ap=2,cp="[object Boolean]",up="[object Date]",lp="[object Error]",fp="[object Map]",hp="[object Number]",pp="[object RegExp]",dp="[object Set]",vp="[object String]",yp="[object Symbol]",gp="[object ArrayBuffer]",Ep="[object DataView]",Jn=zn?zn.prototype:void 0,pt=Jn?Jn.valueOf:void 0;function mp(e,r,t,n,o,i,c){switch(t){case Ep:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case gp:return!(e.byteLength!=r.byteLength||!i(new Wn(e),new Wn(r)));case cp:case up:case hp:return tp(+e,+r);case lp:return e.name==r.name&&e.message==r.message;case pp:case vp:return e==r+"";case fp:var u=ip;case dp:var h=n&sp;if(u||(u=op),e.size!=r.size&&!h)return!1;var f=c.get(e);if(f)return f==r;n|=ap,c.set(e,r);var d=np(u(e),u(r),n,o,i,c);return c.delete(e),d;case yp:if(pt)return pt.call(e)==pt.call(r)}return!1}var bp=mp;function _p(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var wp=_p,Ip=wp,Ap=De;function Sp(e,r,t){var n=r(e);return Ap(e)?n:Ip(n,t(e))}var Tp=Sp;function xp(e,r){for(var t=-1,n=e==null?0:e.length,o=0,i=[];++t<n;){var c=e[t];r(c,t,e)&&(i[o++]=c)}return i}var Op=xp;function $p(){return[]}var Rp=$p,Np=Op,Lp=Rp,Pp=Object.prototype,Cp=Pp.propertyIsEnumerable,Zn=Object.getOwnPropertySymbols,Dp=Zn?function(e){return e==null?[]:(e=Object(e),Np(Zn(e),function(r){return Cp.call(e,r)}))}:Lp,Up=Dp,Bp=Tp,Fp=Up,Mp=nn;function Gp(e){return Bp(e,Mp,Fp)}var jp=Gp,Qn=jp,kp=1,Hp=Object.prototype,Xp=Hp.hasOwnProperty;function Vp(e,r,t,n,o,i){var c=t&kp,u=Qn(e),h=u.length,f=Qn(r),d=f.length;if(h!=d&&!c)return!1;for(var g=h;g--;){var b=u[g];if(!(c?b in r:Xp.call(r,b)))return!1}var _=i.get(e),R=i.get(r);if(_&&R)return _==r&&R==e;var $=!0;i.set(e,r),i.set(r,e);for(var C=c;++g<h;){b=u[g];var k=e[b],W=r[b];if(n)var ie=c?n(W,k,b,r,e,i):n(k,W,b,e,r,i);if(!(ie===void 0?k===W||o(k,W,t,n,i):ie)){$=!1;break}C||(C=b=="constructor")}if($&&!C){var oe=e.constructor,z=r.constructor;oe!=z&&"constructor"in e&&"constructor"in r&&!(typeof oe=="function"&&oe instanceof oe&&typeof z=="function"&&z instanceof z)&&($=!1)}return i.delete(e),i.delete(r),$}var Kp=Vp,Yp=He,qp=Te,zp=Yp(qp,"DataView"),Wp=zp,Jp=He,Zp=Te,Qp=Jp(Zp,"Promise"),ed=Qp,rd=He,td=Te,nd=rd(td,"Set"),id=nd,od=He,sd=Te,ad=od(sd,"WeakMap"),cd=ad,Pt=Wp,Ct=on,Dt=ed,Ut=id,Bt=cd,To=gr,nr=Eo,ei="[object Map]",ud="[object Object]",ri="[object Promise]",ti="[object Set]",ni="[object WeakMap]",ii="[object DataView]",ld=nr(Pt),fd=nr(Ct),hd=nr(Dt),pd=nr(Ut),dd=nr(Bt),Fe=To;(Pt&&Fe(new Pt(new ArrayBuffer(1)))!=ii||Ct&&Fe(new Ct)!=ei||Dt&&Fe(Dt.resolve())!=ri||Ut&&Fe(new Ut)!=ti||Bt&&Fe(new Bt)!=ni)&&(Fe=function(e){var r=To(e),t=r==ud?e.constructor:void 0,n=t?nr(t):"";if(n)switch(n){case ld:return ii;case fd:return ei;case hd:return ri;case pd:return ti;case dd:return ni}return r});var vd=Fe,dt=Ao,yd=So,gd=bp,Ed=Kp,oi=vd,si=De,ai=Br.exports,md=wo,bd=1,ci="[object Arguments]",ui="[object Array]",_r="[object Object]",_d=Object.prototype,li=_d.hasOwnProperty;function wd(e,r,t,n,o,i){var c=si(e),u=si(r),h=c?ui:oi(e),f=u?ui:oi(r);h=h==ci?_r:h,f=f==ci?_r:f;var d=h==_r,g=f==_r,b=h==f;if(b&&ai(e)){if(!ai(r))return!1;c=!0,d=!1}if(b&&!d)return i||(i=new dt),c||md(e)?yd(e,r,t,n,o,i):gd(e,r,h,t,n,o,i);if(!(t&bd)){var _=d&&li.call(e,"__wrapped__"),R=g&&li.call(r,"__wrapped__");if(_||R){var $=_?e.value():e,C=R?r.value():r;return i||(i=new dt),o($,C,t,n,i)}}return b?(i||(i=new dt),Ed(e,r,t,n,o,i)):!1}var Id=wd,Ad=Id,fi=Er;function xo(e,r,t,n,o){return e===r?!0:e==null||r==null||!fi(e)&&!fi(r)?e!==e&&r!==r:Ad(e,r,t,n,xo,o)}var Oo=xo,Sd=Ao,Td=Oo,xd=1,Od=2;function $d(e,r,t,n){var o=t.length,i=o,c=!n;if(e==null)return!i;for(e=Object(e);o--;){var u=t[o];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<i;){u=t[o];var h=u[0],f=e[h],d=u[1];if(c&&u[2]){if(f===void 0&&!(h in e))return!1}else{var g=new Sd;if(n)var b=n(f,d,h,e,r,g);if(!(b===void 0?Td(d,f,xd|Od,n,g):b))return!1}}return!0}var Rd=$d,Nd=rn;function Ld(e){return e===e&&!Nd(e)}var $o=Ld,Pd=$o,Cd=nn;function Dd(e){for(var r=Cd(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,Pd(o)]}return r}var Ud=Dd;function Bd(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Ro=Bd,Fd=Rd,Md=Ud,Gd=Ro;function jd(e){var r=Md(e);return r.length==1&&r[0][2]?Gd(r[0][0],r[0][1]):function(t){return t===e||Fd(t,e,r)}}var kd=jd,Hd=gr,Xd=Er,Vd="[object Symbol]";function Kd(e){return typeof e=="symbol"||Xd(e)&&Hd(e)==Vd}var an=Kd,Yd=De,qd=an,zd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wd=/^\w*$/;function Jd(e,r){if(Yd(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||qd(e)?!0:Wd.test(e)||!zd.test(e)||r!=null&&e in Object(r)}var cn=Jd,No=sn,Zd="Expected a function";function un(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Zd);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=t.cache;if(i.has(o))return i.get(o);var c=e.apply(this,n);return t.cache=i.set(o,c)||i,c};return t.cache=new(un.Cache||No),t}un.Cache=No;var Qd=un,e0=Qd,r0=500;function t0(e){var r=e0(e,function(n){return t.size===r0&&t.clear(),n}),t=r.cache;return r}var n0=t0,i0=n0,o0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s0=/\\(\\)?/g,a0=i0(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(o0,function(t,n,o,i){r.push(o?i.replace(s0,"$1"):n||t)}),r}),c0=a0;function u0(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var l0=u0,hi=Yr,f0=l0,h0=De,p0=an,d0=1/0,pi=hi?hi.prototype:void 0,di=pi?pi.toString:void 0;function Lo(e){if(typeof e=="string")return e;if(h0(e))return f0(e,Lo)+"";if(p0(e))return di?di.call(e):"";var r=e+"";return r=="0"&&1/e==-d0?"-0":r}var v0=Lo,y0=v0;function g0(e){return e==null?"":y0(e)}var E0=g0,m0=De,b0=cn,_0=c0,w0=E0;function I0(e,r){return m0(e)?e:b0(e,r)?[e]:_0(w0(e))}var Po=I0,A0=an,S0=1/0;function T0(e){if(typeof e=="string"||A0(e))return e;var r=e+"";return r=="0"&&1/e==-S0?"-0":r}var Zr=T0,x0=Po,O0=Zr;function $0(e,r){r=x0(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[O0(r[t++])];return t&&t==n?e:void 0}var Co=$0,R0=Co;function N0(e,r,t){var n=e==null?void 0:R0(e,r);return n===void 0?t:n}var L0=N0;function P0(e,r){return e!=null&&r in Object(e)}var C0=P0,D0=Po,U0=bo,B0=De,F0=_o,M0=tn,G0=Zr;function j0(e,r,t){r=D0(r,e);for(var n=-1,o=r.length,i=!1;++n<o;){var c=G0(r[n]);if(!(i=e!=null&&t(e,c)))break;e=e[c]}return i||++n!=o?i:(o=e==null?0:e.length,!!o&&M0(o)&&F0(c,o)&&(B0(e)||U0(e)))}var k0=j0,H0=C0,X0=k0;function V0(e,r){return e!=null&&X0(e,r,H0)}var K0=V0,Y0=Oo,q0=L0,z0=K0,W0=cn,J0=$o,Z0=Ro,Q0=Zr,ev=1,rv=2;function tv(e,r){return W0(e)&&J0(r)?Z0(Q0(e),r):function(t){var n=q0(t,e);return n===void 0&&n===r?z0(t,e):Y0(r,n,ev|rv)}}var nv=tv;function iv(e){return e}var ov=iv;function sv(e){return function(r){return r==null?void 0:r[e]}}var av=sv,cv=Co;function uv(e){return function(r){return cv(r,e)}}var lv=uv,fv=av,hv=lv,pv=cn,dv=Zr;function vv(e){return pv(e)?fv(dv(e)):hv(e)}var yv=vv,gv=kd,Ev=nv,mv=ov,bv=De,_v=yv;function wv(e){return typeof e=="function"?e:e==null?mv:typeof e=="object"?bv(e)?Ev(e[0],e[1]):gv(e):_v(e)}var Iv=wv,Av=zc,Sv=Ul,Tv=Iv;function xv(e,r){var t={};return r=Tv(r),Sv(e,function(n,o,i){Av(t,o,r(n,o,i))}),t}var Ov=xv,Ft=globalThis&&globalThis.__assign||function(){return Ft=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ft.apply(this,arguments)},H=function(e){if(!Number.isNaN(e))return parseInt(e,10)},vt=function(e){if(!Number.isNaN(e))return parseFloat(e)},U=function(e){return typeof e=="boolean"?e:!(e==="0"||e==="false")},A=function(e){return typeof e=="string"?e:void 0},$v=function(e){try{if(typeof e!="string")throw new Error;return JSON.parse(e)}catch{return}},Rv=function(e){var r=typeof e=="string"?e.split(","):null;if(Array.isArray(r)&&r.length>0)return r},Nv={ANALYTICS_CONSOLE:{def:!1,parser:U,desc:"Show tracking overlays on the app UI"},DEBUG_THEME:{def:!1,parser:U,desc:"Show theme debug overlay UI"},API_ALGORAND_BLOCKCHAIN_EXPLORER_API_ENDPOINT:{def:"https://algorand.coin.ledger.com",parser:A,desc:"Node API endpoint for algorand"},API_CELO_INDEXER:{def:"https://celo.coin.ledger.com/indexer/",parser:A,desc:"Explorer API for celo"},API_CELO_NODE:{def:"https://celo.coin.ledger.com/archive/",parser:A,desc:"Node endpoint for celo"},API_COSMOS_BLOCKCHAIN_EXPLORER_API_ENDPOINT:{def:"https://cosmoshub4.coin.ledger.com",parser:A,desc:"Node endpoint for cosmos"},API_RIPPLE_RPC:{parser:A,def:"https://xrplcluster.com/ledgerlive",desc:"XRP Ledger full history open JSON-RPC endpoint"},API_FILECOIN_ENDPOINT:{parser:A,def:"https://filecoin.coin.ledger.com",desc:"Filecoin API url"},API_NEAR_ARCHIVE_NODE:{def:"https://near.coin.ledger.com/node/",parser:A,desc:"Archive node endpoint for NEAR"},API_NEAR_INDEXER:{def:"https://near.coin.ledger.com/indexer/",parser:A,desc:"Datahub Indexer API for NEAR"},API_NEAR_STAKING_POSITIONS_API:{def:"https://validators-near.coin.ledger.com/",parser:A,desc:"NEAR staking positions API"},API_POLKADOT_INDEXER:{parser:A,def:"https://polkadot.coin.ledger.com",desc:"Explorer API for polkadot"},API_POLKADOT_SIDECAR:{parser:A,def:"https://polkadot-sidecar.coin.ledger.com",desc:"Polkadot Sidecar API url"},ELROND_API_ENDPOINT:{parser:A,def:"https://elrond.coin.ledger.com",desc:"Elrond API url"},ELROND_DELEGATION_API_ENDPOINT:{parser:A,def:"https://delegations-elrond.coin.ledger.com",desc:"Elrond DELEGATION API url"},API_STELLAR_HORIZON:{parser:A,def:"https://stellar.coin.ledger.com",desc:"Stellar Horizon API url"},API_STELLAR_HORIZON_FETCH_LIMIT:{parser:H,def:100,desc:"Limit of operation that Horizon will fetch per page"},API_STELLAR_HORIZON_STATIC_FEE:{def:!1,parser:U,desc:"Static fee for Stellar account"},API_OSMOSIS_NODE:{def:"https://osmosis.coin.ledger-stg.com",parser:A,desc:"Endpoint for Osmosis Node"},API_TEZOS_BAKER:{parser:A,def:"https://tezos-bakers.api.live.ledger.com",desc:"bakers API for tezos"},API_TEZOS_BLOCKCHAIN_EXPLORER_API_ENDPOINT:{def:"https://xtz-explorer.api.live.ledger.com/explorer",parser:A,desc:"Ledger explorer API for tezos"},API_TEZOS_TZKT_API:{def:"https://xtz-tzkt-explorer.api.live.ledger.com",parser:A,desc:"tzkt.io explorer"},API_TEZOS_NODE:{def:"https://xtz-node.api.live.ledger.com",parser:A,desc:"node API for tezos (for broadcast only)"},API_TRONGRID_PROXY:{parser:A,def:"https://tron.coin.ledger.com",desc:"proxy url for trongrid API"},API_SOLANA_PROXY:{parser:A,def:"https://solana.coin.ledger.com",desc:"proxy url for solana API"},SOLANA_VALIDATORS_APP_BASE_URL:{parser:A,def:"https://validators-solana.coin.ledger.com/api/v1/validators",desc:"base url for validators.app validator list"},SOLANA_TX_CONFIRMATION_TIMEOUT:{def:100*1e3,parser:H,desc:"solana transaction broadcast confirmation timeout"},API_HEDERA_MIRROR:{def:"https://hedera.coin.ledger.com",parser:A,desc:"mirror node API for Hedera"},BASE_SOCKET_URL:{def:"wss://scriptrunner.api.live.ledger.com/update",parser:A,desc:"Ledger script runner API"},BOT_TIMEOUT_SCAN_ACCOUNTS:{def:10*60*1e3,parser:H,desc:"bot's default timeout for scanAccounts"},BOT_SPEC_DEFAULT_TIMEOUT:{def:30*60*1e3,parser:H,desc:"define the default value of spec.skipMutationsTimeout (if not overriden by spec)"},CARDANO_API_ENDPOINT:{def:"https://cardano.coin.ledger.com/api",parser:A,desc:"Cardano API url"},CARDANO_TESTNET_API_ENDPOINT:{def:"https://testnet-ledger.cardanoscan.io/api",parser:A,desc:"Cardano API url"},COINAPPS:{def:"",parser:A,desc:"(dev feature) defines the folder for speculos mode that contains Nano apps binaries (.elf) in a specific structure: <device>/<firmware>/<appName>/app_<appVersion>.elf"},COMPOUND_API:{def:"https://api.compound.finance",parser:A,desc:"location of the compound API"},CRYPTO_ORG_INDEXER:{def:"https://cryptoorg-rpc-indexer.coin.ledger.com",parser:A,desc:"location of the crypto.org indexer API"},CRYPTO_ORG_TESTNET_INDEXER:{def:"https://crypto.org/explorer/croeseid4",parser:A,desc:"location of the crypto.org indexer testnet API"},CRYPTO_ORG_RPC_URL:{def:"https://cryptoorg-rpc-node.coin.ledger.com",parser:A,desc:"location of the crypto.org chain node"},CRYPTO_ORG_TESTNET_RPC_URL:{def:"https://testnet-croeseid-4.crypto.org:26657",parser:A,desc:"location of the crypto.org chain testnet node"},DEBUG_UTXO_DISPLAY:{def:4,parser:H,desc:"define maximum number of utxos to display in CLI"},DEBUG_HTTP_RESPONSE:{def:!1,parser:U,desc:"includes HTTP response body in logs"},DEVICE_CANCEL_APDU_FLUSH_MECHANISM:{def:!0,parser:U,desc:"enable a mechanism that send a 0x00 apdu to force device to awake from its 'Processing' UI state"},DEVICE_PROXY_URL:{def:"",parser:A,desc:"enable a proxy to use instead of a physical device"},DEVICE_PROXY_MODEL:{def:"nanoS",parser:A,desc:"allow to override the default model of a proxied device"},DISABLE_TRANSACTION_BROADCAST:{def:!1,parser:U,desc:"disable broadcast of transactions"},DISABLE_SYNC_TOKEN:{def:!0,parser:U,desc:"disable a problematic mechanism of our API"},DISABLE_FW_UPDATE_VERSION_CHECK:{def:!1,parser:U,desc:"disable the version check for firmware update eligibility"},EIP1559_ENABLED_CURRENCIES:{def:"ethereum,ethereum_goerli,polygon",parser:Rv,desc:"set the currency ids where EIP1559 is enabled"},EIP1559_MINIMUM_FEES_GATE:{def:!0,parser:U,desc:"prevents the user from doing an EIP1559 transaction with fees too low"},EIP1559_PRIORITY_FEE_LOWER_GATE:{def:.85,parser:vt,desc:"minimum priority fee percents allowed compared to network conditions allowed when EIP1559_MINIMUM_FEES_GATE is activated"},ETHEREUM_GAS_LIMIT_AMPLIFIER:{def:1.2,parser:vt,desc:"Ethereum gasLimit multiplier for contracts to prevent out of gas issue"},EXPERIMENTAL_BLE:{def:!1,parser:U,desc:"enable experimental support of Bluetooth"},EXPERIMENTAL_CURRENCIES:{def:"",parser:A,desc:"enable experimental support of currencies (comma separated)"},EXPERIMENTAL_EXPLORERS:{def:!1,parser:U,desc:"enable experimental explorer APIs"},EXPERIMENTAL_FALLBACK_APDU_LISTAPPS:{def:!1,parser:U,desc:"if HSM list apps fails, fallback on APDU version (>=1.6.0)"},EXPERIMENTAL_LANGUAGES:{def:!1,parser:U,desc:"enable experimental languages"},EXPERIMENTAL_MANAGER:{def:!1,parser:U,desc:"enable an experimental version of Manager"},EXPERIMENTAL_ROI_CALCULATION:{def:!1,parser:U,desc:"enable an experimental version of the portfolio percentage calculation"},EXPERIMENTAL_SEND_MAX:{def:!1,parser:U,desc:"force enabling SEND MAX even if not yet stable"},EXPERIMENTAL_USB:{def:!1,parser:U,desc:"enable an experimental implementation of USB support"},EXPERIMENTAL_SWAP:{def:!1,parser:U,desc:"enable an experimental swap interface"},EXPERIMENTAL_EXECUTION_ON_RENDERER:{def:!1,parser:U,desc:"enable an experimental execution of business logic to run on renderer side (LLD)"},EXPLORER:{def:"https://explorers.api.live.ledger.com",parser:A,desc:"Ledger generic explorer API"},EXPLORER_STAGING:{def:"https://explorers.api-01.live.ledger-stg.com",parser:A,desc:"Ledger staging explorer API"},EXPLORER_BETA:{def:"https://explorers.api.live.ledger.com",parser:A,desc:"Ledger generic explorer beta API"},EXPLORER_SATSTACK:{def:"http://localhost:20000",parser:A,desc:"Ledger satstack Bitcoin explorer API"},EXPORT_EXCLUDED_LOG_TYPES:{def:"ble-frame",parser:A,desc:"comma-separated list of excluded log types for exported logs"},EXPORT_MAX_LOGS:{def:5e3,parser:H,desc:"maximum logs to keep for export"},DISABLE_APP_VERSION_REQUIREMENTS:{def:!1,parser:U,desc:"force an old application version to be accepted regardless of its version"},FORCE_PROVIDER:{def:1,parser:H,desc:"use a different provider for app store (for developers only)"},GET_CALLS_RETRY:{def:2,parser:H,desc:"how many times to retry a GET http call"},GET_CALLS_TIMEOUT:{def:60*1e3,parser:H,desc:"how much time to timeout a GET http call"},HIDE_EMPTY_TOKEN_ACCOUNTS:{def:!1,parser:U,desc:"hide the sub accounts when they are empty"},KEYCHAIN_OBSERVABLE_RANGE:{def:0,parser:H,desc:"overrides the gap limit specified by BIP44 (default to 20)"},LEDGER_CLIENT_VERSION:{def:"",parser:A,desc:"the 'X-Ledger-Client-Version' HTTP header to use for queries to Ledger APIs"},LEDGER_COUNTERVALUES_API:{def:"https://countervalues.live.ledger.com",parser:A,desc:"Ledger countervalues API"},LEDGER_REST_API_BASE:{def:"https://explorers.api.live.ledger.com",parser:A,desc:"DEPRECATED"},LEGACY_KT_SUPPORT_TO_YOUR_OWN_RISK:{def:!1,parser:U,desc:"enable sending to KT accounts. Not tested."},MANAGER_API_BASE:{def:"https://manager.api.live.ledger.com/api",parser:A,desc:"Ledger Manager API"},MANAGER_DEV_MODE:{def:!1,parser:U,desc:"enable visibility of utility apps in Manager"},MANAGER_INSTALL_DELAY:{def:1e3,parser:H,desc:"defines the time to wait before installing apps to prevent known glitch (<=1.5.5) when chaining installs"},MAX_ACCOUNT_NAME_SIZE:{def:50,parser:H,desc:"maximum size of account names"},MOCK:{def:"",parser:A,desc:"switch the app into a MOCK mode for test purpose, the value will be used as a seed for the rng. Avoid falsy values."},MOCK_COUNTERVALUES:{def:"",parser:A,desc:"switch the countervalues resolution into a MOCK mode for test purpose"},MOCK_SWAP_KYC:{def:"",parser:A,desc:"mock the server response for the exchange KYC check, options are 'open', 'pending', 'closed' or 'approved'."},MOCK_SWAP_CHECK_QUOTE:{def:"",parser:A,desc:"mock the server response for the exchange check quote, options are 'RATE_VALID', 'KYC_FAILED', 'KYC_PENDING', 'KYC_UNDEFINED', 'KYC_UPGRADE_REQUIRED', 'MFA_REQUIRED', 'OVER_TRADE_LIMIT', 'UNKNOW_USER' or 'UNKNOWN_ERROR'."},MOCK_SWAP_WIDGET_BASE_URL:{def:"",parser:A,desc:"mock the FTX swap widget base url"},MOCK_EXCHANGE_TEST_CONFIG:{def:!1,parser:U,desc:"mock the cryptoassets config and test partner (in the context of app-exchange)"},MOCK_REMOTE_LIVE_MANIFEST:{def:"",parser:A,desc:"mock remote live app manifest"},MOCK_OS_VERSION:{def:"",parser:A,desc:"if defined, overrides the os and version. format: os@version. Example: Windows_NT@6.1.7601"},NFT_CURRENCIES:{def:"ethereum,polygon",parser:A,desc:"set the currencies where NFT is active"},NFT_ETH_METADATA_SERVICE:{def:"https://nft.api.live.ledger.com",parser:A,desc:"service uri used to get the metadata of an nft"},OPERATION_ADDRESSES_LIMIT:{def:100,parser:H,desc:"limit the number of addresses in from/to of operations"},OPERATION_OPTIMISTIC_RETENTION:{def:30*60*1e3,parser:H,desc:"timeout to keep an optimistic operation that was broadcasted but not yet visible from the coin implementation or the API"},OPERATION_PAGE_SIZE_INITIAL:{def:100,parser:H,desc:"defines the initial default operation length page to use"},POLKADOT_ELECTION_STATUS_THRESHOLD:{def:25,parser:H,desc:"in blocks - number of blocks before Polkadot election effectively opens to consider it as open and disable all staking features"},SATSTACK:{def:!1,parser:U,desc:"Switch to satstack mode"},SCAN_FOR_INVALID_PATHS:{def:!1,parser:U,desc:"enable searching accounts in exotic derivation paths"},SEED:{def:"",parser:A,desc:"(dev feature) seed to be used by speculos (device simulator)"},SHOW_LEGACY_NEW_ACCOUNT:{def:!1,parser:U,desc:"allow the creation of legacy accounts"},SKIP_ONBOARDING:{def:!1,parser:U,desc:"dev flag to skip onboarding flow"},SWAP_API_BASE:{def:"https://swap.ledger.com/v4",parser:A,desc:"Swap API base"},SYNC_ALL_INTERVAL:{def:2*60*1e3,parser:H,desc:"delay between successive sync"},SYNC_BOOT_DELAY:{def:2*1e3,parser:H,desc:"delay before the sync starts"},SYNC_PENDING_INTERVAL:{def:10*1e3,parser:H,desc:"delay between sync when an operation is still pending"},SYNC_OUTDATED_CONSIDERED_DELAY:{def:2*60*1e3,parser:H,desc:"delay until Live consider a sync outdated"},SYNC_MAX_CONCURRENT:{def:4,parser:H,desc:"maximum limit to synchronize accounts concurrently to limit overload"},BOT_MAX_CONCURRENT:{def:10,parser:H,desc:"maximum limit to run bot spec in parallel"},USER_ID:{def:"",parser:A,desc:"unique identifier of app instance. used to derivate dissociated ids for difference purposes (e.g. the firmware update incremental deployment)."},WALLETCONNECT:{def:!1,parser:U,desc:"is walletconnect enabled"},WITH_DEVICE_POLLING_DELAY:{def:500,parser:vt,desc:"delay when polling device"},ANNOUNCEMENTS_API_URL:{def:"https://cdn.live.ledger.com/announcements",parser:A,desc:"url used to fetch new announcements"},ANNOUNCEMENTS_API_VERSION:{def:1,parser:H,desc:"version used for the announcements api"},STATUS_API_URL:{def:"https://ledger.statuspage.io/api",parser:A,desc:"url used to fetch ledger status"},STATUS_API_VERSION:{def:2,parser:H,desc:"version used for ledger status api"},TEZOS_MAX_TX_QUERIES:{def:100,parser:H,desc:"safe max on maximum number of queries to synchronize a tezos account"},PLATFORM_DEBUG:{def:!1,parser:U,desc:"enable visibility of debug apps and tools in Platform Catalog"},PLATFORM_EXPERIMENTAL_APPS:{def:!1,parser:U,desc:"enable visibility of experimental apps and tools in Platform Catalog"},PLATFORM_MANIFEST_API_URL:{def:"https://live-app-catalog.ledger.com/api/v1/apps",parser:A,desc:"url used to fetch platform app manifests"},PLATFORM_LOCAL_MANIFEST_JSON:{def:"",parser:A,desc:'json manifest for a local (test) platform app manifests. How to use: PLATFORM_LOCAL_MANIFEST_JSON="$(cat /path/to/file.json)"'},PLATFORM_GLOBAL_CATALOG_API_URL:{def:"https://cdn.live.ledger.com/platform/catalog/v1/data.json",parser:A,desc:"url used to fetch platform app manifests"},PLATFORM_GLOBAL_CATALOG_STAGING_API_URL:{def:"https://cdn.live.ledger-stg.com/platform/catalog/v1/data.json",parser:A,desc:"url used to fetch platform app manifests (staging)"},PLATFORM_RAMP_CATALOG_API_URL:{def:"https://cdn.live.ledger.com/platform/trade/v1/data.json",parser:A,desc:"url used to fetch platform app manifests"},PLATFORM_RAMP_CATALOG_STAGING_API_URL:{def:"https://cdn.live.ledger-stg.com/platform/trade/v1/data.json",parser:A,desc:"url used to fetch platform app manifests (staging)"},PLATFORM_API_URL:{def:"",parser:A,desc:"url used to fetch platform catalog"},PLATFORM_API_VERSION:{def:1,parser:H,desc:"version used for the platform api"},PLAYWRIGHT_RUN:{def:!1,parser:U,desc:"true when launched for E2E testing"},MARKET_API_URL:{def:"https://proxycg.api.live.ledger.com/api/v3",parser:A,desc:"Market data api"},USE_LEARN_STAGING_URL:{def:!1,parser:U,desc:"use the staging URL for the learn page"},DYNAMIC_CAL_BASE_URL:{def:"https://cdn.live.ledger.com/cryptoassets",parser:A,desc:"bucket S3 of the dynamic cryptoassets list"},FEATURE_FLAGS:{def:"{}",parser:$v,desc:"key value map for feature flags: {[key in FeatureId]?: Feature]}"}},Lv=Ov(Nv,function(e){return e.def}),Pv=Ft({},Lv),Cv=function(e){return Pv[e]};new qt;var Dv=globalThis&&globalThis.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(d){try{f(n.next(d))}catch(g){c(g)}}function h(d){try{f(n.throw(d))}catch(g){c(g)}}function f(d){d.done?i(d.value):o(d.value).then(u,h)}f((n=n.apply(e,r||[])).next())})},Uv=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(d){return h([f,d])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(e,t)}catch(d){f=[6,d],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Bv=function(e){return Hr(e&&e instanceof Ur&&e.statusCode===28586?new Ua(e.message):e.statusCode===27392?new ja(e.message):e)},Fv=function(e){return Hr(e)},Mv=new Promise(function(){}),Gv=function(e){return function(r){return J.create(function(t){var n=!1,o=function(){return n?Mv:(n=!0,e())},i=r.subscribe({next:function(c){return t.next(c)},complete:function(){o().then(function(){return t.complete()})},error:function(c){o().then(function(){return t.error(c)})}});return function(){i.unsubscribe(),o()}})}},vi=function(e){return typeof e.id=="string"?e.id:""},yi={},gi={},jv=0,Do=function(e){return function(r){return new J(function(t){var n=jv++;Ne("withDevice","".concat(n,": New job: deviceId=").concat(e||"USB"));var o,i,c=gi[e]||Promise.resolve(),u=function(f,d){return $n(f,e,!0),Is(f,e).catch(function(){}).then(function(){d.forEach(function(g){return g()})})},h;return gi[e]=new Promise(function(f){h=f}),Ne("withDevice","".concat(n,": Waiting for queue to complete"),{deviceQueue:c}),c.then(function(){return to(e)}).then(function(f){return Dv(void 0,void 0,void 0,function(){return Uv(this,function(d){switch(d.label){case 0:return Ne("withDevice","".concat(n,": Starting job")),$n(f,e,!1),o?[2,u(f,[h])]:yi[vi(f)]?(delete yi[vi(f)],[4,f.send(0,0,0,0).catch(function(){})]):[3,2];case 1:d.sent(),d.label=2;case 2:return[2,f]}})})}).catch(function(f){throw h(),f instanceof Ca||f instanceof Ga||f instanceof Fa?f:new Da(f.message)}).then(function(f){if(!!f){if(o)return u(f,[h]);i=r(f).pipe(Nt(Bv),Nt(Fv),Gv(function(){return Ne("withDevice","".concat(n,": job fully completed")),u(f,[h])})).subscribe(t)}}).catch(function(f){return t.error(f)}),function(){Ne("withDevice","".concat(n,": Unsubscribing job: ").concat(!!i)),o=!0,i&&i.unsubscribe()}})}},kv=function(e){return function(r){return r.pipe(lo(function(t){return e(t)?ra(Cv("WITH_DEVICE_POLLING_DELAY")):Hr(t)}))}},Mt=function(e,r){return Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},Mt(e,r)};function ln(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Mt(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function Hv(e,r,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(d){try{f(n.next(d))}catch(g){c(g)}}function h(d){try{f(n.throw(d))}catch(g){c(g)}}function f(d){d.done?i(d.value):o(d.value).then(u,h)}f((n=n.apply(e,r||[])).next())})}function Uo(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(d){return h([f,d])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(e,t)}catch(d){f=[6,d],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function hr(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mr(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,i=[],c;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){c={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return i}function Gr(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,i;n<o;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return e.concat(i||Array.prototype.slice.call(r))}function We(e){return this instanceof We?(this.v=e,this):new We(e)}function Xv(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),o,i=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(b){n[b]&&(o[b]=function(_){return new Promise(function(R,$){i.push([b,_,R,$])>1||u(b,_)})})}function u(b,_){try{h(n[b](_))}catch(R){g(i[0][3],R)}}function h(b){b.value instanceof We?Promise.resolve(b.value.v).then(f,d):g(i[0][2],b)}function f(b){u("next",b)}function d(b){u("throw",b)}function g(b,_){b(_),i.shift(),i.length&&u(i[0][0],i[0][1])}}function Vv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof hr=="function"?hr(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(c){return new Promise(function(u,h){c=e[i](c),o(u,h,c.done,c.value)})}}function o(i,c,u,h){Promise.resolve(h).then(function(f){i({value:f,done:u})},c)}}function re(e){return typeof e=="function"}function Kv(e){var r=function(n){Error.call(n),n.stack=new Error().stack},t=e(r);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var yt=Kv(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Ei(e,r){if(e){var t=e.indexOf(r);0<=t&&e.splice(t,1)}}var fn=function(){function e(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var r,t,n,o,i;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var u=hr(c),h=u.next();!h.done;h=u.next()){var f=h.value;f.remove(this)}}catch($){r={error:$}}finally{try{h&&!h.done&&(t=u.return)&&t.call(u)}finally{if(r)throw r.error}}else c.remove(this);var d=this.initialTeardown;if(re(d))try{d()}catch($){i=$ instanceof yt?$.errors:[$]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var b=hr(g),_=b.next();!_.done;_=b.next()){var R=_.value;try{mi(R)}catch($){i=i!=null?i:[],$ instanceof yt?i=Gr(Gr([],Mr(i)),Mr($.errors)):i.push($)}}}catch($){n={error:$}}finally{try{_&&!_.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}}if(i)throw new yt(i)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)mi(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(r)}},e.prototype._hasParent=function(r){var t=this._parentage;return t===r||Array.isArray(t)&&t.includes(r)},e.prototype._addParent=function(r){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r},e.prototype._removeParent=function(r){var t=this._parentage;t===r?this._parentage=null:Array.isArray(t)&&Ei(t,r)},e.prototype.remove=function(r){var t=this._finalizers;t&&Ei(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=function(){var r=new e;return r.closed=!0,r}(),e}();fn.EMPTY;function Bo(e){return e instanceof fn||e&&"closed"in e&&re(e.remove)&&re(e.add)&&re(e.unsubscribe)}function mi(e){re(e)?e():e.unsubscribe()}var Fo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Gt={setTimeout:function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var o=Gt.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Gr([e,r],Mr(t))):setTimeout.apply(void 0,Gr([e,r],Mr(t)))},clearTimeout:function(e){var r=Gt.delegate;return((r==null?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Mo(e){Gt.setTimeout(function(){throw e})}function bi(){}function Yv(e){e()}var hn=function(e){ln(r,e);function r(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Bo(t)&&t.add(n)):n.destination=Jv,n}return r.create=function(t,n,o){return new jt(t,n,o)},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(fn),qv=Function.prototype.bind;function gt(e,r){return qv.call(e,r)}var zv=function(){function e(r){this.partialObserver=r}return e.prototype.next=function(r){var t=this.partialObserver;if(t.next)try{t.next(r)}catch(n){wr(n)}},e.prototype.error=function(r){var t=this.partialObserver;if(t.error)try{t.error(r)}catch(n){wr(n)}else wr(r)},e.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(t){wr(t)}},e}(),jt=function(e){ln(r,e);function r(t,n,o){var i=e.call(this)||this,c;if(re(t)||!t)c={next:t!=null?t:void 0,error:n!=null?n:void 0,complete:o!=null?o:void 0};else{var u;i&&Fo.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=function(){return i.unsubscribe()},c={next:t.next&&gt(t.next,u),error:t.error&&gt(t.error,u),complete:t.complete&&gt(t.complete,u)}):c=t}return i.destination=new zv(c),i}return r}(hn);function wr(e){Mo(e)}function Wv(e){throw e}var Jv={closed:!0,next:bi,error:Wv,complete:bi},pn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Zv(e){return e}function Qv(e){return e.length===0?Zv:e.length===1?e[0]:function(t){return e.reduce(function(n,o){return o(n)},t)}}var ge=function(){function e(r){r&&(this._subscribe=r)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(r,t,n){var o=this,i=ry(r)?r:new jt(r,t,n);return Yv(function(){var c=o,u=c.operator,h=c.source;i.add(u?u.call(i,h):h?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(t){r.error(t)}},e.prototype.forEach=function(r,t){var n=this;return t=_i(t),new t(function(o,i){var c=new jt({next:function(u){try{r(u)}catch(h){i(h),c.unsubscribe()}},error:i,complete:o});n.subscribe(c)})},e.prototype._subscribe=function(r){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(r)},e.prototype[pn]=function(){return this},e.prototype.pipe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Qv(r)(this)},e.prototype.toPromise=function(r){var t=this;return r=_i(r),new r(function(n,o){var i;t.subscribe(function(c){return i=c},function(c){return o(c)},function(){return n(i)})})},e.create=function(r){return new e(r)},e}();function _i(e){var r;return(r=e!=null?e:Fo.Promise)!==null&&r!==void 0?r:Promise}function ey(e){return e&&re(e.next)&&re(e.error)&&re(e.complete)}function ry(e){return e&&e instanceof hn||ey(e)&&Bo(e)}function ty(e){return re(e==null?void 0:e.lift)}function dn(e){return function(r){if(ty(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function kt(e,r,t,n,o){return new ny(e,r,t,n,o)}var ny=function(e){ln(r,e);function r(t,n,o,i,c,u){var h=e.call(this,t)||this;return h.onFinalize=c,h.shouldUnsubscribe=u,h._next=n?function(f){try{n(f)}catch(d){t.error(d)}}:e.prototype._next,h._error=i?function(f){try{i(f)}catch(d){t.error(d)}finally{this.unsubscribe()}}:e.prototype._error,h._complete=o?function(){try{o()}catch(f){t.error(f)}finally{this.unsubscribe()}}:e.prototype._complete,h}return r.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},r}(hn);function iy(e){return e&&re(e.schedule)}function oy(e){return e[e.length-1]}function sy(e){return iy(oy(e))?e.pop():void 0}var Go=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function jo(e){return re(e==null?void 0:e.then)}function ko(e){return re(e[pn])}function Ho(e){return Symbol.asyncIterator&&re(e==null?void 0:e[Symbol.asyncIterator])}function Xo(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function ay(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vo=ay();function Ko(e){return re(e==null?void 0:e[Vo])}function Yo(e){return Xv(this,arguments,function(){var t,n,o,i;return Uo(this,function(c){switch(c.label){case 0:t=e.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,We(t.read())];case 3:return n=c.sent(),o=n.value,i=n.done,i?[4,We(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,We(o)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function qo(e){return re(e==null?void 0:e.getReader)}function Qr(e){if(e instanceof ge)return e;if(e!=null){if(ko(e))return cy(e);if(Go(e))return uy(e);if(jo(e))return ly(e);if(Ho(e))return zo(e);if(Ko(e))return fy(e);if(qo(e))return hy(e)}throw Xo(e)}function cy(e){return new ge(function(r){var t=e[pn]();if(re(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uy(e){return new ge(function(r){for(var t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()})}function ly(e){return new ge(function(r){e.then(function(t){r.closed||(r.next(t),r.complete())},function(t){return r.error(t)}).then(null,Mo)})}function fy(e){return new ge(function(r){var t,n;try{for(var o=hr(e),i=o.next();!i.done;i=o.next()){var c=i.value;if(r.next(c),r.closed)return}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}r.complete()})}function zo(e){return new ge(function(r){py(e,r).catch(function(t){return r.error(t)})})}function hy(e){return zo(Yo(e))}function py(e,r){var t,n,o,i;return Hv(this,void 0,void 0,function(){var c,u;return Uo(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),t=Vv(e),h.label=1;case 1:return[4,t.next()];case 2:if(n=h.sent(),!!n.done)return[3,4];if(c=n.value,r.next(c),r.closed)return[2];h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=h.sent(),o={error:u},[3,11];case 6:return h.trys.push([6,,9,10]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}function je(e,r,t,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var i=r.schedule(function(){t(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function Wo(e,r){return r===void 0&&(r=0),dn(function(t,n){t.subscribe(kt(n,function(o){return je(n,e,function(){return n.next(o)},r)},function(){return je(n,e,function(){return n.complete()},r)},function(o){return je(n,e,function(){return n.error(o)},r)}))})}function Jo(e,r){return r===void 0&&(r=0),dn(function(t,n){n.add(e.schedule(function(){return t.subscribe(n)},r))})}function dy(e,r){return Qr(e).pipe(Jo(r),Wo(r))}function vy(e,r){return Qr(e).pipe(Jo(r),Wo(r))}function yy(e,r){return new ge(function(t){var n=0;return r.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}function gy(e,r){return new ge(function(t){var n;return je(t,r,function(){n=e[Vo](),je(t,r,function(){var o,i,c;try{o=n.next(),i=o.value,c=o.done}catch(u){t.error(u);return}c?t.complete():t.next(i)},0,!0)}),function(){return re(n==null?void 0:n.return)&&n.return()}})}function Zo(e,r){if(!e)throw new Error("Iterable cannot be null");return new ge(function(t){je(t,r,function(){var n=e[Symbol.asyncIterator]();je(t,r,function(){n.next().then(function(o){o.done?t.complete():t.next(o.value)})},0,!0)})})}function Ey(e,r){return Zo(Yo(e),r)}function my(e,r){if(e!=null){if(ko(e))return dy(e,r);if(Go(e))return yy(e,r);if(jo(e))return vy(e,r);if(Ho(e))return Zo(e,r);if(Ko(e))return gy(e,r);if(qo(e))return Ey(e,r)}throw Xo(e)}function by(e,r){return r?my(e,r):Qr(e)}function _y(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=sy(e);return by(e,t)}function wy(e,r){return dn(function(t,n){var o=null,i=0,c=!1,u=function(){return c&&!o&&n.complete()};t.subscribe(kt(n,function(h){o==null||o.unsubscribe();var f=0,d=i++;Qr(e(h,d)).subscribe(o=kt(n,function(g){return n.next(r?r(h,g,d,f++):g)},function(){o=null,u()}))},function(){c=!0,u()}))})}function Iy(e){var r=e.event;switch(r.type){case"error":{var t=r.error,n=t.name,o=t.message;return t instanceof Kr?{lockedDevice:!0}:{error:{type:"SharedError",message:"".concat(n,": ").concat(o)}}}default:return{}}}var Ay={lockedDevice:!1,error:null},Pe={exports:{}};const Sy="2.0.0",Ty=256,xy=Number.MAX_SAFE_INTEGER||9007199254740991,Oy=16;var et={SEMVER_SPEC_VERSION:Sy,MAX_LENGTH:Ty,MAX_SAFE_INTEGER:xy,MAX_SAFE_COMPONENT_LENGTH:Oy};const $y=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var rt=$y;(function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:t}=et,n=rt;r=e.exports={};const o=r.re=[],i=r.src=[],c=r.t={};let u=0;const h=(f,d,g)=>{const b=u++;n(f,b,d),c[f]=b,i[b]=d,o[b]=new RegExp(d,g?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","[0-9]+"),h("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),h("MAINVERSION",`(${i[c.NUMERICIDENTIFIER]})\\.(${i[c.NUMERICIDENTIFIER]})\\.(${i[c.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${i[c.NUMERICIDENTIFIERLOOSE]})\\.(${i[c.NUMERICIDENTIFIERLOOSE]})\\.(${i[c.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${i[c.NUMERICIDENTIFIER]}|${i[c.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${i[c.NUMERICIDENTIFIERLOOSE]}|${i[c.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${i[c.PRERELEASEIDENTIFIER]}(?:\\.${i[c.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${i[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[c.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER","[0-9A-Za-z-]+"),h("BUILD",`(?:\\+(${i[c.BUILDIDENTIFIER]}(?:\\.${i[c.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${i[c.MAINVERSION]}${i[c.PRERELEASE]}?${i[c.BUILD]}?`),h("FULL",`^${i[c.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${i[c.MAINVERSIONLOOSE]}${i[c.PRERELEASELOOSE]}?${i[c.BUILD]}?`),h("LOOSE",`^${i[c.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${i[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${i[c.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${i[c.XRANGEIDENTIFIER]})(?:\\.(${i[c.XRANGEIDENTIFIER]})(?:\\.(${i[c.XRANGEIDENTIFIER]})(?:${i[c.PRERELEASE]})?${i[c.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${i[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[c.XRANGEIDENTIFIERLOOSE]})(?:${i[c.PRERELEASELOOSE]})?${i[c.BUILD]}?)?)?`),h("XRANGE",`^${i[c.GTLT]}\\s*${i[c.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${i[c.GTLT]}\\s*${i[c.XRANGEPLAINLOOSE]}$`),h("COERCE",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?(?:$|[^\\d])`),h("COERCERTL",i[c.COERCE],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${i[c.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",h("TILDE",`^${i[c.LONETILDE]}${i[c.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${i[c.LONETILDE]}${i[c.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${i[c.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",h("CARET",`^${i[c.LONECARET]}${i[c.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${i[c.LONECARET]}${i[c.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${i[c.GTLT]}\\s*(${i[c.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${i[c.GTLT]}\\s*(${i[c.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${i[c.GTLT]}\\s*(${i[c.LOOSEPLAIN]}|${i[c.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${i[c.XRANGEPLAIN]})\\s+-\\s+(${i[c.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${i[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[c.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Pe,Pe.exports);const Ry=["includePrerelease","loose","rtl"],Ny=e=>e?typeof e!="object"?{loose:!0}:Ry.filter(r=>e[r]).reduce((r,t)=>(r[t]=!0,r),{}):{};var tt=Ny;const wi=/^[0-9]+$/,Qo=(e,r)=>{const t=wi.test(e),n=wi.test(r);return t&&n&&(e=+e,r=+r),e===r?0:t&&!n?-1:n&&!t?1:e<r?-1:1},Ly=(e,r)=>Qo(r,e);var Ht={compareIdentifiers:Qo,rcompareIdentifiers:Ly};const Ir=rt,{MAX_LENGTH:Ii,MAX_SAFE_INTEGER:Ar}=et,{re:Ai,t:Si}=Pe.exports,Py=tt,{compareIdentifiers:Ye}=Ht;class ce{constructor(r,t){if(t=Py(t),r instanceof ce){if(r.loose===!!t.loose&&r.includePrerelease===!!t.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid Version: ${r}`);if(r.length>Ii)throw new TypeError(`version is longer than ${Ii} characters`);Ir("SemVer",r,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=r.trim().match(t.loose?Ai[Si.LOOSE]:Ai[Si.FULL]);if(!n)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ar||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ar||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ar||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){const i=+o;if(i>=0&&i<Ar)return i}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(Ir("SemVer.compare",this.version,this.options,r),!(r instanceof ce)){if(typeof r=="string"&&r===this.version)return 0;r=new ce(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof ce||(r=new ce(r,this.options)),Ye(this.major,r.major)||Ye(this.minor,r.minor)||Ye(this.patch,r.patch)}comparePre(r){if(r instanceof ce||(r=new ce(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=r.prerelease[t];if(Ir("prerelease compare",t,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return Ye(n,o)}while(++t)}compareBuild(r){r instanceof ce||(r=new ce(r,this.options));let t=0;do{const n=this.build[t],o=r.build[t];if(Ir("prerelease compare",t,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return Ye(n,o)}while(++t)}inc(r,t){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(Ye(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${r}`)}return this.format(),this.raw=this.version,this}}var ne=ce;const{MAX_LENGTH:Cy}=et,{re:Ti,t:xi}=Pe.exports,Oi=ne,Dy=tt,Uy=(e,r)=>{if(r=Dy(r),e instanceof Oi)return e;if(typeof e!="string"||e.length>Cy||!(r.loose?Ti[xi.LOOSE]:Ti[xi.FULL]).test(e))return null;try{return new Oi(e,r)}catch{return null}};var ir=Uy;const By=ir,Fy=(e,r)=>{const t=By(e,r);return t?t.version:null};var My=Fy;const Gy=ir,jy=(e,r)=>{const t=Gy(e.trim().replace(/^[=v]+/,""),r);return t?t.version:null};var ky=jy;const $i=ne,Hy=(e,r,t,n)=>{typeof t=="string"&&(n=t,t=void 0);try{return new $i(e instanceof $i?e.version:e,t).inc(r,n).version}catch{return null}};var Xy=Hy;const Ri=ne,Vy=(e,r,t)=>new Ri(e,t).compare(new Ri(r,t));var pe=Vy;const Ky=pe,Yy=(e,r,t)=>Ky(e,r,t)===0;var vn=Yy;const Ni=ir,qy=vn,zy=(e,r)=>{if(qy(e,r))return null;{const t=Ni(e),n=Ni(r),o=t.prerelease.length||n.prerelease.length,i=o?"pre":"",c=o?"prerelease":"";for(const u in t)if((u==="major"||u==="minor"||u==="patch")&&t[u]!==n[u])return i+u;return c}};var Wy=zy;const Jy=ne,Zy=(e,r)=>new Jy(e,r).major;var Qy=Zy;const eg=ne,rg=(e,r)=>new eg(e,r).minor;var tg=rg;const ng=ne,ig=(e,r)=>new ng(e,r).patch;var og=ig;const sg=ir,ag=(e,r)=>{const t=sg(e,r);return t&&t.prerelease.length?t.prerelease:null};var cg=ag;const ug=pe,lg=(e,r,t)=>ug(r,e,t);var fg=lg;const hg=pe,pg=(e,r)=>hg(e,r,!0);var dg=pg;const Li=ne,vg=(e,r,t)=>{const n=new Li(e,t),o=new Li(r,t);return n.compare(o)||n.compareBuild(o)};var yn=vg;const yg=yn,gg=(e,r)=>e.sort((t,n)=>yg(t,n,r));var Eg=gg;const mg=yn,bg=(e,r)=>e.sort((t,n)=>mg(n,t,r));var _g=bg;const wg=pe,Ig=(e,r,t)=>wg(e,r,t)>0;var nt=Ig;const Ag=pe,Sg=(e,r,t)=>Ag(e,r,t)<0;var gn=Sg;const Tg=pe,xg=(e,r,t)=>Tg(e,r,t)!==0;var es=xg;const Og=pe,$g=(e,r,t)=>Og(e,r,t)>=0;var En=$g;const Rg=pe,Ng=(e,r,t)=>Rg(e,r,t)<=0;var mn=Ng;const Lg=vn,Pg=es,Cg=nt,Dg=En,Ug=gn,Bg=mn,Fg=(e,r,t,n)=>{switch(r){case"===":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e===t;case"!==":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e!==t;case"":case"=":case"==":return Lg(e,t,n);case"!=":return Pg(e,t,n);case">":return Cg(e,t,n);case">=":return Dg(e,t,n);case"<":return Ug(e,t,n);case"<=":return Bg(e,t,n);default:throw new TypeError(`Invalid operator: ${r}`)}};var rs=Fg;const Mg=ne,Gg=ir,{re:Sr,t:Tr}=Pe.exports,jg=(e,r)=>{if(e instanceof Mg)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;r=r||{};let t=null;if(!r.rtl)t=e.match(Sr[Tr.COERCE]);else{let n;for(;(n=Sr[Tr.COERCERTL].exec(e))&&(!t||t.index+t[0].length!==e.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),Sr[Tr.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Sr[Tr.COERCERTL].lastIndex=-1}return t===null?null:Gg(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,r)};var kg=jg,Et,Pi;function Hg(){return Pi||(Pi=1,Et=function(e){e.prototype[Symbol.iterator]=function*(){for(let r=this.head;r;r=r.next)yield r.value}}),Et}var Xg=F;F.Node=ke;F.create=F;function F(e){var r=this;if(r instanceof F||(r=new F),r.tail=null,r.head=null,r.length=0,e&&typeof e.forEach=="function")e.forEach(function(o){r.push(o)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)r.push(arguments[t]);return r}F.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var r=e.next,t=e.prev;return r&&(r.prev=t),t&&(t.next=r),e===this.head&&(this.head=r),e===this.tail&&(this.tail=t),e.list.length--,e.next=null,e.prev=null,e.list=null,r};F.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var r=this.head;e.list=this,e.next=r,r&&(r.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};F.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var r=this.tail;e.list=this,e.prev=r,r&&(r.next=e),this.tail=e,this.head||(this.head=e),this.length++}};F.prototype.push=function(){for(var e=0,r=arguments.length;e<r;e++)Kg(this,arguments[e]);return this.length};F.prototype.unshift=function(){for(var e=0,r=arguments.length;e<r;e++)Yg(this,arguments[e]);return this.length};F.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};F.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};F.prototype.forEach=function(e,r){r=r||this;for(var t=this.head,n=0;t!==null;n++)e.call(r,t.value,n,this),t=t.next};F.prototype.forEachReverse=function(e,r){r=r||this;for(var t=this.tail,n=this.length-1;t!==null;n--)e.call(r,t.value,n,this),t=t.prev};F.prototype.get=function(e){for(var r=0,t=this.head;t!==null&&r<e;r++)t=t.next;if(r===e&&t!==null)return t.value};F.prototype.getReverse=function(e){for(var r=0,t=this.tail;t!==null&&r<e;r++)t=t.prev;if(r===e&&t!==null)return t.value};F.prototype.map=function(e,r){r=r||this;for(var t=new F,n=this.head;n!==null;)t.push(e.call(r,n.value,this)),n=n.next;return t};F.prototype.mapReverse=function(e,r){r=r||this;for(var t=new F,n=this.tail;n!==null;)t.push(e.call(r,n.value,this)),n=n.prev;return t};F.prototype.reduce=function(e,r){var t,n=this.head;if(arguments.length>1)t=r;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;n!==null;o++)t=e(t,n.value,o),n=n.next;return t};F.prototype.reduceReverse=function(e,r){var t,n=this.tail;if(arguments.length>1)t=r;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;n!==null;o--)t=e(t,n.value,o),n=n.prev;return t};F.prototype.toArray=function(){for(var e=new Array(this.length),r=0,t=this.head;t!==null;r++)e[r]=t.value,t=t.next;return e};F.prototype.toArrayReverse=function(){for(var e=new Array(this.length),r=0,t=this.tail;t!==null;r++)e[r]=t.value,t=t.prev;return e};F.prototype.slice=function(e,r){r=r||this.length,r<0&&(r+=this.length),e=e||0,e<0&&(e+=this.length);var t=new F;if(r<e||r<0)return t;e<0&&(e=0),r>this.length&&(r=this.length);for(var n=0,o=this.head;o!==null&&n<e;n++)o=o.next;for(;o!==null&&n<r;n++,o=o.next)t.push(o.value);return t};F.prototype.sliceReverse=function(e,r){r=r||this.length,r<0&&(r+=this.length),e=e||0,e<0&&(e+=this.length);var t=new F;if(r<e||r<0)return t;e<0&&(e=0),r>this.length&&(r=this.length);for(var n=this.length,o=this.tail;o!==null&&n>r;n--)o=o.prev;for(;o!==null&&n>e;n--,o=o.prev)t.push(o.value);return t};F.prototype.splice=function(e,r,...t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;o!==null&&n<e;n++)o=o.next;for(var i=[],n=0;o&&n<r;n++)i.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var n=0;n<t.length;n++)o=Vg(this,o,t[n]);return i};F.prototype.reverse=function(){for(var e=this.head,r=this.tail,t=e;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=r,this.tail=e,this};function Vg(e,r,t){var n=r===e.head?new ke(t,null,r,e):new ke(t,r,r.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Kg(e,r){e.tail=new ke(r,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Yg(e,r){e.head=new ke(r,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ke(e,r,t,n){if(!(this instanceof ke))return new ke(e,r,t,n);this.list=n,this.value=e,r?(r.next=this,this.prev=r):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Hg()(F)}catch{}const qg=Xg,Me=Symbol("max"),we=Symbol("length"),qe=Symbol("lengthCalculator"),fr=Symbol("allowStale"),Ge=Symbol("maxAge"),_e=Symbol("dispose"),Ci=Symbol("noDisposeOnSet"),Q=Symbol("lruList"),ue=Symbol("cache"),ts=Symbol("updateAgeOnGet"),mt=()=>1;class zg{constructor(r){if(typeof r=="number"&&(r={max:r}),r||(r={}),r.max&&(typeof r.max!="number"||r.max<0))throw new TypeError("max must be a non-negative number");this[Me]=r.max||1/0;const t=r.length||mt;if(this[qe]=typeof t!="function"?mt:t,this[fr]=r.stale||!1,r.maxAge&&typeof r.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ge]=r.maxAge||0,this[_e]=r.dispose,this[Ci]=r.noDisposeOnSet||!1,this[ts]=r.updateAgeOnGet||!1,this.reset()}set max(r){if(typeof r!="number"||r<0)throw new TypeError("max must be a non-negative number");this[Me]=r||1/0,cr(this)}get max(){return this[Me]}set allowStale(r){this[fr]=!!r}get allowStale(){return this[fr]}set maxAge(r){if(typeof r!="number")throw new TypeError("maxAge must be a non-negative number");this[Ge]=r,cr(this)}get maxAge(){return this[Ge]}set lengthCalculator(r){typeof r!="function"&&(r=mt),r!==this[qe]&&(this[qe]=r,this[we]=0,this[Q].forEach(t=>{t.length=this[qe](t.value,t.key),this[we]+=t.length})),cr(this)}get lengthCalculator(){return this[qe]}get length(){return this[we]}get itemCount(){return this[Q].length}rforEach(r,t){t=t||this;for(let n=this[Q].tail;n!==null;){const o=n.prev;Di(this,r,n,t),n=o}}forEach(r,t){t=t||this;for(let n=this[Q].head;n!==null;){const o=n.next;Di(this,r,n,t),n=o}}keys(){return this[Q].toArray().map(r=>r.key)}values(){return this[Q].toArray().map(r=>r.value)}reset(){this[_e]&&this[Q]&&this[Q].length&&this[Q].forEach(r=>this[_e](r.key,r.value)),this[ue]=new Map,this[Q]=new qg,this[we]=0}dump(){return this[Q].map(r=>jr(this,r)?!1:{k:r.key,v:r.value,e:r.now+(r.maxAge||0)}).toArray().filter(r=>r)}dumpLru(){return this[Q]}set(r,t,n){if(n=n||this[Ge],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const o=n?Date.now():0,i=this[qe](t,r);if(this[ue].has(r)){if(i>this[Me])return Je(this,this[ue].get(r)),!1;const h=this[ue].get(r).value;return this[_e]&&(this[Ci]||this[_e](r,h.value)),h.now=o,h.maxAge=n,h.value=t,this[we]+=i-h.length,h.length=i,this.get(r),cr(this),!0}const c=new Wg(r,t,i,o,n);return c.length>this[Me]?(this[_e]&&this[_e](r,t),!1):(this[we]+=c.length,this[Q].unshift(c),this[ue].set(r,this[Q].head),cr(this),!0)}has(r){if(!this[ue].has(r))return!1;const t=this[ue].get(r).value;return!jr(this,t)}get(r){return bt(this,r,!0)}peek(r){return bt(this,r,!1)}pop(){const r=this[Q].tail;return r?(Je(this,r),r.value):null}del(r){Je(this,this[ue].get(r))}load(r){this.reset();const t=Date.now();for(let n=r.length-1;n>=0;n--){const o=r[n],i=o.e||0;if(i===0)this.set(o.k,o.v);else{const c=i-t;c>0&&this.set(o.k,o.v,c)}}}prune(){this[ue].forEach((r,t)=>bt(this,t,!1))}}const bt=(e,r,t)=>{const n=e[ue].get(r);if(n){const o=n.value;if(jr(e,o)){if(Je(e,n),!e[fr])return}else t&&(e[ts]&&(n.value.now=Date.now()),e[Q].unshiftNode(n));return o.value}},jr=(e,r)=>{if(!r||!r.maxAge&&!e[Ge])return!1;const t=Date.now()-r.now;return r.maxAge?t>r.maxAge:e[Ge]&&t>e[Ge]},cr=e=>{if(e[we]>e[Me])for(let r=e[Q].tail;e[we]>e[Me]&&r!==null;){const t=r.prev;Je(e,r),r=t}},Je=(e,r)=>{if(r){const t=r.value;e[_e]&&e[_e](t.key,t.value),e[we]-=t.length,e[ue].delete(t.key),e[Q].removeNode(r)}};class Wg{constructor(r,t,n,o,i){this.key=r,this.value=t,this.length=n,this.now=o,this.maxAge=i||0}}const Di=(e,r,t,n)=>{let o=t.value;jr(e,o)&&(Je(e,t),e[fr]||(o=void 0)),o&&r.call(n,o.value,o.key,e)};var Jg=zg,_t,Ui;function de(){if(Ui)return _t;Ui=1;class e{constructor(w,O){if(O=n(O),w instanceof e)return w.loose===!!O.loose&&w.includePrerelease===!!O.includePrerelease?w:new e(w.raw,O);if(w instanceof o)return this.raw=w.value,this.set=[[w]],this.format(),this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=w,this.set=w.split("||").map(S=>this.parseRange(S.trim())).filter(S=>S.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${w}`);if(this.set.length>1){const S=this.set[0];if(this.set=this.set.filter(x=>!b(x[0])),this.set.length===0)this.set=[S];else if(this.set.length>1){for(const x of this.set)if(x.length===1&&_(x[0])){this.set=[x];break}}}this.format()}format(){return this.range=this.set.map(w=>w.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(w){w=w.trim();const S=`parseRange:${Object.keys(this.options).join(",")}:${w}`,x=t.get(S);if(x)return x;const T=this.options.loose,N=T?u[h.HYPHENRANGELOOSE]:u[h.HYPHENRANGE];w=w.replace(N,be(this.options.includePrerelease)),i("hyphen replace",w),w=w.replace(u[h.COMPARATORTRIM],f),i("comparator trim",w),w=w.replace(u[h.TILDETRIM],d),w=w.replace(u[h.CARETTRIM],g),w=w.split(/\s+/).join(" ");let M=w.split(" ").map(D=>$(D,this.options)).join(" ").split(/\s+/).map(D=>Ue(D,this.options));T&&(M=M.filter(D=>(i("loose invalid filter",D,this.options),!!D.match(u[h.COMPARATORLOOSE])))),i("range list",M);const L=new Map,X=M.map(D=>new o(D,this.options));for(const D of X){if(b(D))return[D];L.set(D.value,D)}L.size>1&&L.has("")&&L.delete("");const B=[...L.values()];return t.set(S,B),B}intersects(w,O){if(!(w instanceof e))throw new TypeError("a Range is required");return this.set.some(S=>R(S,O)&&w.set.some(x=>R(x,O)&&S.every(T=>x.every(N=>T.intersects(N,O)))))}test(w){if(!w)return!1;if(typeof w=="string")try{w=new c(w,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if(se(this.set[O],w,this.options))return!0;return!1}}_t=e;const r=Jg,t=new r({max:1e3}),n=tt,o=it(),i=rt,c=ne,{re:u,t:h,comparatorTrimReplace:f,tildeTrimReplace:d,caretTrimReplace:g}=Pe.exports,b=I=>I.value==="<0.0.0-0",_=I=>I.value==="",R=(I,w)=>{let O=!0;const S=I.slice();let x=S.pop();for(;O&&S.length;)O=S.every(T=>x.intersects(T,w)),x=S.pop();return O},$=(I,w)=>(i("comp",I,w),I=ie(I,w),i("caret",I),I=k(I,w),i("tildes",I),I=z(I,w),i("xrange",I),I=me(I,w),i("stars",I),I),C=I=>!I||I.toLowerCase()==="x"||I==="*",k=(I,w)=>I.trim().split(/\s+/).map(O=>W(O,w)).join(" "),W=(I,w)=>{const O=w.loose?u[h.TILDELOOSE]:u[h.TILDE];return I.replace(O,(S,x,T,N,M)=>{i("tilde",I,S,x,T,N,M);let L;return C(x)?L="":C(T)?L=`>=${x}.0.0 <${+x+1}.0.0-0`:C(N)?L=`>=${x}.${T}.0 <${x}.${+T+1}.0-0`:M?(i("replaceTilde pr",M),L=`>=${x}.${T}.${N}-${M} <${x}.${+T+1}.0-0`):L=`>=${x}.${T}.${N} <${x}.${+T+1}.0-0`,i("tilde return",L),L})},ie=(I,w)=>I.trim().split(/\s+/).map(O=>oe(O,w)).join(" "),oe=(I,w)=>{i("caret",I,w);const O=w.loose?u[h.CARETLOOSE]:u[h.CARET],S=w.includePrerelease?"-0":"";return I.replace(O,(x,T,N,M,L)=>{i("caret",I,x,T,N,M,L);let X;return C(T)?X="":C(N)?X=`>=${T}.0.0${S} <${+T+1}.0.0-0`:C(M)?T==="0"?X=`>=${T}.${N}.0${S} <${T}.${+N+1}.0-0`:X=`>=${T}.${N}.0${S} <${+T+1}.0.0-0`:L?(i("replaceCaret pr",L),T==="0"?N==="0"?X=`>=${T}.${N}.${M}-${L} <${T}.${N}.${+M+1}-0`:X=`>=${T}.${N}.${M}-${L} <${T}.${+N+1}.0-0`:X=`>=${T}.${N}.${M}-${L} <${+T+1}.0.0-0`):(i("no pr"),T==="0"?N==="0"?X=`>=${T}.${N}.${M}${S} <${T}.${N}.${+M+1}-0`:X=`>=${T}.${N}.${M}${S} <${T}.${+N+1}.0-0`:X=`>=${T}.${N}.${M} <${+T+1}.0.0-0`),i("caret return",X),X})},z=(I,w)=>(i("replaceXRanges",I,w),I.split(/\s+/).map(O=>Ee(O,w)).join(" ")),Ee=(I,w)=>{I=I.trim();const O=w.loose?u[h.XRANGELOOSE]:u[h.XRANGE];return I.replace(O,(S,x,T,N,M,L)=>{i("xRange",I,S,x,T,N,M,L);const X=C(T),B=X||C(N),D=B||C(M),xe=D;return x==="="&&xe&&(x=""),L=w.includePrerelease?"-0":"",X?x===">"||x==="<"?S="<0.0.0-0":S="*":x&&xe?(B&&(N=0),M=0,x===">"?(x=">=",B?(T=+T+1,N=0,M=0):(N=+N+1,M=0)):x==="<="&&(x="<",B?T=+T+1:N=+N+1),x==="<"&&(L="-0"),S=`${x+T}.${N}.${M}${L}`):B?S=`>=${T}.0.0${L} <${+T+1}.0.0-0`:D&&(S=`>=${T}.${N}.0${L} <${T}.${+N+1}.0-0`),i("xRange return",S),S})},me=(I,w)=>(i("replaceStars",I,w),I.trim().replace(u[h.STAR],"")),Ue=(I,w)=>(i("replaceGTE0",I,w),I.trim().replace(u[w.includePrerelease?h.GTE0PRE:h.GTE0],"")),be=I=>(w,O,S,x,T,N,M,L,X,B,D,xe,at)=>(C(S)?O="":C(x)?O=`>=${S}.0.0${I?"-0":""}`:C(T)?O=`>=${S}.${x}.0${I?"-0":""}`:N?O=`>=${O}`:O=`>=${O}${I?"-0":""}`,C(X)?L="":C(B)?L=`<${+X+1}.0.0-0`:C(D)?L=`<${X}.${+B+1}.0-0`:xe?L=`<=${X}.${B}.${D}-${xe}`:I?L=`<${X}.${B}.${+D+1}-0`:L=`<=${L}`,`${O} ${L}`.trim()),se=(I,w,O)=>{for(let S=0;S<I.length;S++)if(!I[S].test(w))return!1;if(w.prerelease.length&&!O.includePrerelease){for(let S=0;S<I.length;S++)if(i(I[S].semver),I[S].semver!==o.ANY&&I[S].semver.prerelease.length>0){const x=I[S].semver;if(x.major===w.major&&x.minor===w.minor&&x.patch===w.patch)return!0}return!1}return!0};return _t}var wt,Bi;function it(){if(Bi)return wt;Bi=1;const e=Symbol("SemVer ANY");class r{static get ANY(){return e}constructor(d,g){if(g=t(g),d instanceof r){if(d.loose===!!g.loose)return d;d=d.value}c("comparator",d,g),this.options=g,this.loose=!!g.loose,this.parse(d),this.semver===e?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(d){const g=this.options.loose?n[o.COMPARATORLOOSE]:n[o.COMPARATOR],b=d.match(g);if(!b)throw new TypeError(`Invalid comparator: ${d}`);this.operator=b[1]!==void 0?b[1]:"",this.operator==="="&&(this.operator=""),b[2]?this.semver=new u(b[2],this.options.loose):this.semver=e}toString(){return this.value}test(d){if(c("Comparator.test",d,this.options.loose),this.semver===e||d===e)return!0;if(typeof d=="string")try{d=new u(d,this.options)}catch{return!1}return i(d,this.operator,this.semver,this.options)}intersects(d,g){if(!(d instanceof r))throw new TypeError("a Comparator is required");if((!g||typeof g!="object")&&(g={loose:!!g,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new h(d.value,g).test(this.value);if(d.operator==="")return d.value===""?!0:new h(this.value,g).test(d.semver);const b=(this.operator===">="||this.operator===">")&&(d.operator===">="||d.operator===">"),_=(this.operator==="<="||this.operator==="<")&&(d.operator==="<="||d.operator==="<"),R=this.semver.version===d.semver.version,$=(this.operator===">="||this.operator==="<=")&&(d.operator===">="||d.operator==="<="),C=i(this.semver,"<",d.semver,g)&&(this.operator===">="||this.operator===">")&&(d.operator==="<="||d.operator==="<"),k=i(this.semver,">",d.semver,g)&&(this.operator==="<="||this.operator==="<")&&(d.operator===">="||d.operator===">");return b||_||R&&$||C||k}}wt=r;const t=tt,{re:n,t:o}=Pe.exports,i=rs,c=rt,u=ne,h=de();return wt}const Zg=de(),Qg=(e,r,t)=>{try{r=new Zg(r,t)}catch{return!1}return r.test(e)};var ot=Qg;const eE=de(),rE=(e,r)=>new eE(e,r).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));var tE=rE;const nE=ne,iE=de(),oE=(e,r,t)=>{let n=null,o=null,i=null;try{i=new iE(r,t)}catch{return null}return e.forEach(c=>{i.test(c)&&(!n||o.compare(c)===-1)&&(n=c,o=new nE(n,t))}),n};var sE=oE;const aE=ne,cE=de(),uE=(e,r,t)=>{let n=null,o=null,i=null;try{i=new cE(r,t)}catch{return null}return e.forEach(c=>{i.test(c)&&(!n||o.compare(c)===1)&&(n=c,o=new aE(n,t))}),n};var lE=uE;const It=ne,fE=de(),Fi=nt,hE=(e,r)=>{e=new fE(e,r);let t=new It("0.0.0");if(e.test(t)||(t=new It("0.0.0-0"),e.test(t)))return t;t=null;for(let n=0;n<e.set.length;++n){const o=e.set[n];let i=null;o.forEach(c=>{const u=new It(c.semver.version);switch(c.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!i||Fi(u,i))&&(i=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),i&&(!t||Fi(t,i))&&(t=i)}return t&&e.test(t)?t:null};var pE=hE;const dE=de(),vE=(e,r)=>{try{return new dE(e,r).range||"*"}catch{return null}};var yE=vE;const gE=ne,ns=it(),{ANY:EE}=ns,mE=de(),bE=ot,Mi=nt,Gi=gn,_E=mn,wE=En,IE=(e,r,t,n)=>{e=new gE(e,n),r=new mE(r,n);let o,i,c,u,h;switch(t){case">":o=Mi,i=_E,c=Gi,u=">",h=">=";break;case"<":o=Gi,i=wE,c=Mi,u="<",h="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(bE(e,r,n))return!1;for(let f=0;f<r.set.length;++f){const d=r.set[f];let g=null,b=null;if(d.forEach(_=>{_.semver===EE&&(_=new ns(">=0.0.0")),g=g||_,b=b||_,o(_.semver,g.semver,n)?g=_:c(_.semver,b.semver,n)&&(b=_)}),g.operator===u||g.operator===h||(!b.operator||b.operator===u)&&i(e,b.semver))return!1;if(b.operator===h&&c(e,b.semver))return!1}return!0};var bn=IE;const AE=bn,SE=(e,r,t)=>AE(e,r,">",t);var TE=SE;const xE=bn,OE=(e,r,t)=>xE(e,r,"<",t);var $E=OE;const ji=de(),RE=(e,r,t)=>(e=new ji(e,t),r=new ji(r,t),e.intersects(r));var NE=RE;const LE=ot,PE=pe;var CE=(e,r,t)=>{const n=[];let o=null,i=null;const c=e.sort((d,g)=>PE(d,g,t));for(const d of c)LE(d,r,t)?(i=d,o||(o=d)):(i&&n.push([o,i]),i=null,o=null);o&&n.push([o,null]);const u=[];for(const[d,g]of n)d===g?u.push(d):!g&&d===c[0]?u.push("*"):g?d===c[0]?u.push(`<=${g}`):u.push(`${d} - ${g}`):u.push(`>=${d}`);const h=u.join(" || "),f=typeof r.raw=="string"?r.raw:String(r);return h.length<f.length?h:r};const ki=de(),Lr=it(),{ANY:At}=Lr,ur=ot,_n=pe,DE=(e,r,t={})=>{if(e===r)return!0;e=new ki(e,t),r=new ki(r,t);let n=!1;e:for(const o of e.set){for(const i of r.set){const c=UE(o,i,t);if(n=n||c!==null,c)continue e}if(n)return!1}return!0},UE=(e,r,t)=>{if(e===r)return!0;if(e.length===1&&e[0].semver===At){if(r.length===1&&r[0].semver===At)return!0;t.includePrerelease?e=[new Lr(">=0.0.0-0")]:e=[new Lr(">=0.0.0")]}if(r.length===1&&r[0].semver===At){if(t.includePrerelease)return!0;r=[new Lr(">=0.0.0")]}const n=new Set;let o,i;for(const _ of e)_.operator===">"||_.operator===">="?o=Hi(o,_,t):_.operator==="<"||_.operator==="<="?i=Xi(i,_,t):n.add(_.semver);if(n.size>1)return null;let c;if(o&&i){if(c=_n(o.semver,i.semver,t),c>0)return null;if(c===0&&(o.operator!==">="||i.operator!=="<="))return null}for(const _ of n){if(o&&!ur(_,String(o),t)||i&&!ur(_,String(i),t))return null;for(const R of r)if(!ur(_,String(R),t))return!1;return!0}let u,h,f,d,g=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,b=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1;g&&g.prerelease.length===1&&i.operator==="<"&&g.prerelease[0]===0&&(g=!1);for(const _ of r){if(d=d||_.operator===">"||_.operator===">=",f=f||_.operator==="<"||_.operator==="<=",o){if(b&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===b.major&&_.semver.minor===b.minor&&_.semver.patch===b.patch&&(b=!1),_.operator===">"||_.operator===">="){if(u=Hi(o,_,t),u===_&&u!==o)return!1}else if(o.operator===">="&&!ur(o.semver,String(_),t))return!1}if(i){if(g&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===g.major&&_.semver.minor===g.minor&&_.semver.patch===g.patch&&(g=!1),_.operator==="<"||_.operator==="<="){if(h=Xi(i,_,t),h===_&&h!==i)return!1}else if(i.operator==="<="&&!ur(i.semver,String(_),t))return!1}if(!_.operator&&(i||o)&&c!==0)return!1}return!(o&&f&&!i&&c!==0||i&&d&&!o&&c!==0||b||g)},Hi=(e,r,t)=>{if(!e)return r;const n=_n(e.semver,r.semver,t);return n>0?e:n<0||r.operator===">"&&e.operator===">="?r:e},Xi=(e,r,t)=>{if(!e)return r;const n=_n(e.semver,r.semver,t);return n<0?e:n>0||r.operator==="<"&&e.operator==="<="?r:e};var BE=DE;const St=Pe.exports;var Ce={re:St.re,src:St.src,tokens:St.t,SEMVER_SPEC_VERSION:et.SEMVER_SPEC_VERSION,SemVer:ne,compareIdentifiers:Ht.compareIdentifiers,rcompareIdentifiers:Ht.rcompareIdentifiers,parse:ir,valid:My,clean:ky,inc:Xy,diff:Wy,major:Qy,minor:tg,patch:og,prerelease:cg,compare:pe,rcompare:fg,compareLoose:dg,compareBuild:yn,sort:Eg,rsort:_g,gt:nt,lt:gn,eq:vn,neq:es,gte:En,lte:mn,cmp:rs,coerce:kg,Comparator:it(),Range:de(),satisfies:ot,toComparators:tE,maxSatisfying:sE,minSatisfying:lE,minVersion:pE,validRange:yE,outside:bn,gtr:TE,ltr:$E,intersects:NE,simplifyRange:CE,subset:BE},Xt=globalThis&&globalThis.__assign||function(){return Xt=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Xt.apply(this,arguments)},Be,te;(function(e){e.blue="blue",e.nanoS="nanoS",e.nanoSP="nanoSP",e.nanoX="nanoX",e.stax="stax"})(te||(te={}));var Vt=(Be={},Be[te.blue]={id:te.blue,productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:function(e){return 4*1024}},Be[te.nanoS]={id:te.nanoS,productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:function(e){var r;return Ce.lt((r=Ce.coerce(e))!==null&&r!==void 0?r:"","2.0.0")?4*1024:2*1024}},Be[te.nanoSP]={id:te.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1536*1024,masks:[856686592],getBlockSize:function(e){return 32}},Be[te.nanoX]={id:te.nanoX,productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:function(e){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},Be[te.stax]={id:te.stax,productName:"Ledger\xA0Stax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1536*1024,masks:[857735168],getBlockSize:function(e){return 32},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},Be);te.blue,te.nanoS,te.nanoSP,te.nanoX,te.stax;var Kt=Object.values(Vt),is=11415,FE=function(e){var r=Kt.find(function(t){var n=t.masks;return n.find(function(o){return(e&4294901760)===o})});return r},Vi=function(e){var r=Kt.find(function(o){return o.legacyUsbProductId===e});if(r)return r;var t=e>>8,n=Kt.find(function(o){return o.productIdMM===t});return n},ME=[],Ki={};for(var GE in Vt){var Yi=Vt[GE],Tt=Yi.bluetoothSpec;if(Tt)for(var xt=0;xt<Tt.length;xt++){var xr=Tt[xt];ME.push(xr.serviceUuid),Ki[xr.serviceUuid]=Ki[xr.serviceUuid.replace(/-/g,"")]=Xt({deviceModel:Yi},xr)}}var qi={nanoX:">=2.1.0",nanoSP:">=1.1.0"},jE=function(e,r){return!!r&&!!qi[r]&&!!Ce.satisfies(Ce.coerce(e)||e,qi[r])};function kE(e){return new J(function(r){var t=e.unresponsiveTimeout;e.setExchangeUnresponsiveTimeout(1e3);var n=function(){r.next({type:"unresponsive"})};return e.on("unresponsive",n),Zt(e.send(224,1,0,0)).pipe(Qt(function(o){e.off("unresponsive",n);var i=o.slice(0,o.length-2),c=0,u=i.readUIntBE(0,4);c+=4;var h=i[c++],f=i.slice(c,c+h).toString();c+=h;var d=i[c++],g=i.slice(c,c+d);c+=d,h||(f="0.0.0",g=ee.Buffer.allocUnsafeSlow(0));var b="",_,R,$,C,k,W,ie,oe=(u&4026531840)!==805306368;if(oe){if(_=f,k=u,c<i.length){var z=i[c++],Ee=i.slice(c,c+z);if(c+=z,z>=5){R=Ee.toString();var me=i[c++],Ue=i.slice(c,c+me);c+=d,W=Ue.readUIntBE(0,4)}else W=Ee.readUIntBE(0,4)}}else{R=f,W=u;var be=i[c++],se=ee.Buffer.from(i.slice(c,c+be));c+=be,se[se.length-1]===0&&(se=se.slice(0,se.length-1)),b=se.toString();var I=f.includes("-osu");if(!I){var w=FE(u);if(HE(R,w==null?void 0:w.id)){var O=i[c++],S=ee.Buffer.from(i.slice(c,c+O));c+=O,S[S.length-1]===0&&(S=S.slice(0,S.length-1)),$=S.toString()}if(XE(R,w==null?void 0:w.id)){var x=i[c++];C=i.slice(c,c+x).readUIntBE(0,1),c+=x}if(jE(R,w==null?void 0:w.id)){var T=i[c++];ie=i.slice(c,c+T).readUIntBE(0,1)}}}return so({type:"data",firmwareInfo:{isBootloader:oe,rawVersion:f,targetId:u,seVersion:R,mcuVersion:b,mcuBlVersion:_,mcuTargetId:k,seTargetId:W,flags:g,bootloaderVersion:$,hardwareVersion:C,languageId:ie}})}),sa(function(){return e.setExchangeUnresponsiveTimeout(t)})).subscribe(r)})}var zi={nanoS:">=2.0.0",nanoX:">=2.0.0",nanoSP:">=1.0.0"},HE=function(e,r){return!!r&&!!zi[r]&&!!Ce.satisfies(Ce.coerce(e)||e,zi[r])},Wi={nanoX:">=2.0.0"},XE=function(e,r){return!!r&&!!Wi[r]&&!!Ce.satisfies(Ce.coerce(e)||e,Wi[r])},VE=function(e){if(!e)return!1;var r=["lo","rc","il","tr"];return r.some(function(t){return e.includes("-"+t)})},KE={das:2,club:3,shitcoins:4,ee:5},YE=3e4;function qE(e){return function(r){return new J(function(t){return e(r).pipe(ba(YE),ha(kv(function(n){return console.log("\u{1F996} retryWhileErrors ...: ".concat(JSON.stringify(n))),n instanceof Kr||n instanceof po?(console.log("\u{1F996} retryWhileErrors \u2705: ".concat(JSON.stringify(n))),t.next({type:"error",error:n}),!0):(console.log("\u{1F996} retryWhileErrors \u274C: ".concat(JSON.stringify(n))),!1)})),Nt(function(n){return so({type:"error",error:n})})).subscribe(t)})}}function zE(e){return console.log("\u{1F996} quitApp !"),new J(function(r){e.send(176,167,0,0).then(function(){r.next(),r.complete()})})}var WE=globalThis&&globalThis.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,i=[],c;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){c={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return i},JE=8,ZE=128;function QE(e){var r=e.deviceId;return new J(function(t){return Do(r)(function(n){return zE(n).pipe(Qt(function(){return kE(n)}),Jt(function(o){if(o.type==="unresponsive")return console.log("\u{1F996} getDeviceInfo unresponsive: ".concat(JSON.stringify(o))),{type:"error",error:new Kr};var i=o.firmwareInfo,c=i.isBootloader,u=i.rawVersion,h=i.targetId,f=i.seVersion,d=i.seTargetId,g=i.mcuBlVersion,b=i.mcuVersion,_=i.mcuTargetId,R=i.flags,$=i.bootloaderVersion,C=i.hardwareVersion,k=i.languageId,W=u.includes("-osu"),ie=u.replace("-osu",""),oe=u.match(/([0-9]+.[0-9]+)(.[0-9]+)?(-(.*))?/),z=WE(oe||[],5),Ee=z[1],me=z[4],Ue=KE[me]?me:null,be=R.length>0?R[0]:0,se=!!(be&JE),I=!!(be&ZE),w=!1,O=!0;R.length===4&&(w=!!(R[0]&1),O=!!(R[0]&4)),Ne("hw","deviceInfo: se@"+ie+" mcu@"+b+(W?" (osu)":c?" (bootloader)":""));var S=VE(f),x={version:ie,mcuVersion:b,seVersion:f,mcuBlVersion:g,majMin:Ee,providerName:Ue||null,targetId:h,hasDevFirmware:S,seTargetId:d,mcuTargetId:_,isOSU:W,isBootloader:c,isRecoveryMode:w,managerAllowed:se,pinValidated:I,onboarded:O,bootloaderVersion:$,hardwareVersion:C,languageId:k};return{type:"data",deviceInfo:x}}))}).subscribe(t)})}var em=qE(QE),Ie=globalThis&&globalThis.__assign||function(){return Ie=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ie.apply(this,arguments)},Ji=Ie({deviceInfo:null},Ay);function rm(e){var r=e.deviceId;return em({deviceId:r}).pipe(ua(function(t,n){switch(n.type){case"taskError":return Ie(Ie({},Ji),{error:{type:n.error}});case"data":return Ie(Ie({},t),{error:null,deviceInfo:n.deviceInfo});case"error":return Ie(Ie({},t),Iy({event:n}))}},Ji))}navigator.hid.addEventListener("connect",e=>{console.log(`\u{1F52E} HID connect: ${JSON.stringify(e)}`)});navigator.hid.addEventListener("disconnect",e=>{console.log(`\u{1F52E} HID disconnect: ${JSON.stringify(e)}`)});function tm(e){return new ge(r=>{e.send(176,167,0,0).then(()=>{r.next(),r.complete()})})}const nm=()=>{const[e,r]=$e.exports.useState(null),[t,n]=$e.exports.useState(!1),i=((h,f)=>{const d=$e.exports.useRef({cb:h});return $e.exports.useEffect(()=>{d.current={cb:h}},f),$e.exports.useCallback(g=>{const b=()=>{g.off("disconnect",b),d.current.cb(g)};g.on("disconnect",b)},[d])})(h=>{e===h?r(null):console.log(`\u274C disconnecting to an unknown transport ${h}`)},[e]),c=$e.exports.useCallback(()=>{n(!0),r(null),to("webhid").then(h=>{console.log(`\u{1F52E} opening transport: ${JSON.stringify(h)}`),n(!1),r(h),i(h)},h=>{n(!1),console.log(`\u274C error opening transport: ${JSON.stringify(h)}`)})},[i]);$e.exports.useCallback(()=>{Do("webhid")(h=>tm(h).pipe(wy(()=>_y(Na(h,"Ethereum"))))).subscribe({next:h=>console.log(`\u{1F52E} next: ${JSON.stringify(h)}`),complete:()=>console.log("\u{1F52E} app close and open complete"),error:h=>console.log(`\u{1F52E} error: ${JSON.stringify(h)}`)})},[e]);const u=$e.exports.useCallback(()=>{rm({deviceId:"webhid"}).subscribe({next:h=>console.log(`\u{1F52E} next: ${JSON.stringify(h)}`),complete:()=>console.log("\u{1F52E} app close and open complete"),error:h=>console.log(`\u{1F52E} error: ${JSON.stringify(h)}`)})},[e]);return Rr("div",{className:"App",children:_s("header",{className:"App-header",children:[Rr("button",{onClick:c,children:"Connect to transport"}),Rr("button",{onClick:u,children:"Open ethereum app"})]})})};var wn={exports:{}},Ze=typeof Reflect=="object"?Reflect:null,Zi=Ze&&typeof Ze.apply=="function"?Ze.apply:function(r,t,n){return Function.prototype.apply.call(r,t,n)},Pr;Ze&&typeof Ze.ownKeys=="function"?Pr=Ze.ownKeys:Object.getOwnPropertySymbols?Pr=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Pr=function(r){return Object.getOwnPropertyNames(r)};function im(e){console&&console.warn&&console.warn(e)}var os=Number.isNaN||function(r){return r!==r};function G(){G.init.call(this)}wn.exports=G;wn.exports.once=cm;G.EventEmitter=G;G.prototype._events=void 0;G.prototype._eventsCount=0;G.prototype._maxListeners=void 0;var Qi=10;function st(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(G,"defaultMaxListeners",{enumerable:!0,get:function(){return Qi},set:function(e){if(typeof e!="number"||e<0||os(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Qi=e}});G.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};G.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||os(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function ss(e){return e._maxListeners===void 0?G.defaultMaxListeners:e._maxListeners}G.prototype.getMaxListeners=function(){return ss(this)};G.prototype.emit=function(r){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o=r==="error",i=this._events;if(i!==void 0)o=o&&i.error===void 0;else if(!o)return!1;if(o){var c;if(t.length>0&&(c=t[0]),c instanceof Error)throw c;var u=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw u.context=c,u}var h=i[r];if(h===void 0)return!1;if(typeof h=="function")Zi(h,this,t);else for(var f=h.length,d=fs(h,f),n=0;n<f;++n)Zi(d[n],this,t);return!0};function as(e,r,t,n){var o,i,c;if(st(t),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",r,t.listener?t.listener:t),i=e._events),c=i[r]),c===void 0)c=i[r]=t,++e._eventsCount;else if(typeof c=="function"?c=i[r]=n?[t,c]:[c,t]:n?c.unshift(t):c.push(t),o=ss(e),o>0&&c.length>o&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=r,u.count=c.length,im(u)}return e}G.prototype.addListener=function(r,t){return as(this,r,t,!1)};G.prototype.on=G.prototype.addListener;G.prototype.prependListener=function(r,t){return as(this,r,t,!0)};function om(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function cs(e,r,t){var n={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},o=om.bind(n);return o.listener=t,n.wrapFn=o,o}G.prototype.once=function(r,t){return st(t),this.on(r,cs(this,r,t)),this};G.prototype.prependOnceListener=function(r,t){return st(t),this.prependListener(r,cs(this,r,t)),this};G.prototype.removeListener=function(r,t){var n,o,i,c,u;if(st(t),o=this._events,o===void 0)return this;if(n=o[r],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete o[r],o.removeListener&&this.emit("removeListener",r,n.listener||t));else if(typeof n!="function"){for(i=-1,c=n.length-1;c>=0;c--)if(n[c]===t||n[c].listener===t){u=n[c].listener,i=c;break}if(i<0)return this;i===0?n.shift():sm(n,i),n.length===1&&(o[r]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",r,u||t)}return this};G.prototype.off=G.prototype.removeListener;G.prototype.removeAllListeners=function(r){var t,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[r]),this;if(arguments.length===0){var i=Object.keys(n),c;for(o=0;o<i.length;++o)c=i[o],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[r],typeof t=="function")this.removeListener(r,t);else if(t!==void 0)for(o=t.length-1;o>=0;o--)this.removeListener(r,t[o]);return this};function us(e,r,t){var n=e._events;if(n===void 0)return[];var o=n[r];return o===void 0?[]:typeof o=="function"?t?[o.listener||o]:[o]:t?am(o):fs(o,o.length)}G.prototype.listeners=function(r){return us(this,r,!0)};G.prototype.rawListeners=function(r){return us(this,r,!1)};G.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):ls.call(e,r)};G.prototype.listenerCount=ls;function ls(e){var r=this._events;if(r!==void 0){var t=r[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}G.prototype.eventNames=function(){return this._eventsCount>0?Pr(this._events):[]};function fs(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}function sm(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}function am(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}function cm(e,r){return new Promise(function(t,n){function o(c){e.removeListener(r,i),n(c)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",o),t([].slice.call(arguments))}hs(e,r,i,{once:!0}),r!=="error"&&um(e,o,{once:!0})})}function um(e,r,t){typeof e.on=="function"&&hs(e,"error",r,t)}function hs(e,r,t,n){if(typeof e.on=="function")n.once?e.once(r,t):e.on(r,t);else if(typeof e.addEventListener=="function")e.addEventListener(r,function o(i){n.once&&e.removeEventListener(r,o),t(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Or=globalThis&&globalThis.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(d){try{f(n.next(d))}catch(g){c(g)}}function h(d){try{f(n.throw(d))}catch(g){c(g)}}function f(d){d.done?i(d.value):o(d.value).then(u,h)}f((n=n.apply(e,r||[])).next())})},$r=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(d){return h([f,d])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(e,t)}catch(d){f=[6,d],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},eo=globalThis&&globalThis.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},lm=globalThis&&globalThis.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,i=[],c;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){c={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return i},fm=globalThis&&globalThis.__spreadArray||function(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,i;n<o;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return e.concat(i||Array.prototype.slice.call(r))},hm=function(){function e(){var r=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new wn.exports,this.send=function(t,n,o,i,c,u){return c===void 0&&(c=ee.Buffer.alloc(0)),u===void 0&&(u=[lr.OK]),Or(r,void 0,void 0,function(){var h,f;return $r(this,function(d){switch(d.label){case 0:if(c.length>=256)throw new Le("data.length exceed 256 bytes limit. Got: "+c.length,"DataLengthTooBig");return[4,this.exchange(ee.Buffer.concat([ee.Buffer.from([t,n,o,i]),ee.Buffer.from([c.length]),c]))];case 1:if(h=d.sent(),f=h.readUInt16BE(h.length-2),!u.some(function(g){return g===f}))throw new Ur(f);return[2,h]}})})},this.exchangeAtomicImpl=function(t){return Or(r,void 0,void 0,function(){var n,o,i,c,u,h=this;return $r(this,function(f){switch(f.label){case 0:if(this.exchangeBusyPromise)throw new Ma("An action was already pending on the Ledger device. Please deny or reconnect.");o=new Promise(function(d){n=d}),this.exchangeBusyPromise=o,i=!1,c=setTimeout(function(){i=!0,h.emit("unresponsive")},this.unresponsiveTimeout),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,t()];case 2:return u=f.sent(),i&&this.emit("responsive"),[2,u];case 3:return clearTimeout(c),n&&n(),this.exchangeBusyPromise=null,[7];case 4:return[2]}})})},this._appAPIlock=null}return e.prototype.exchange=function(r){throw new Error("exchange not implemented")},e.prototype.exchangeBulk=function(r,t){var n=this,o=!1,i=function(){o=!0},c=function(){return Or(n,void 0,void 0,function(){var u,h,f,d,g,b,_,R;return $r(this,function($){switch($.label){case 0:if(o)return[2];$.label=1;case 1:$.trys.push([1,6,7,8]),u=eo(r),h=u.next(),$.label=2;case 2:return h.done?[3,5]:(f=h.value,[4,this.exchange(f)]);case 3:if(d=$.sent(),o)return[2];if(g=d.readUInt16BE(d.length-2),g!==lr.OK)throw new Ur(g);t.next(d),$.label=4;case 4:return h=u.next(),[3,2];case 5:return[3,8];case 6:return b=$.sent(),_={error:b},[3,8];case 7:try{h&&!h.done&&(R=u.return)&&R.call(u)}finally{if(_)throw _.error}return[7];case 8:return[2]}})})};return c().then(function(){return!o&&t.complete()},function(u){return!o&&t.error(u)}),{unsubscribe:i}},e.prototype.setScrambleKey=function(r){},e.prototype.close=function(){return Promise.resolve()},e.prototype.on=function(r,t){this._events.on(r,t)},e.prototype.off=function(r,t){this._events.removeListener(r,t)},e.prototype.emit=function(r){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(t=this._events).emit.apply(t,fm([r],lm(n),!1))},e.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},e.prototype.setExchangeTimeout=function(r){this.exchangeTimeout=r},e.prototype.setExchangeUnresponsiveTimeout=function(r){this.unresponsiveTimeout=r},e.create=function(r,t){var n=this;return r===void 0&&(r=3e3),new Promise(function(o,i){var c=!1,u=n.listen({next:function(f){c=!0,u&&u.unsubscribe(),h&&clearTimeout(h),n.open(f.descriptor,r).then(o,i)},error:function(f){h&&clearTimeout(h),i(f)},complete:function(){h&&clearTimeout(h),c||i(new Le(n.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),h=t?setTimeout(function(){u.unsubscribe(),i(new Le(n.ErrorMessage_ListenTimeout,"ListenTimeout"))},t):null})},e.prototype.decorateAppAPIMethods=function(r,t,n){var o,i;try{for(var c=eo(t),u=c.next();!u.done;u=c.next()){var h=u.value;r[h]=this.decorateAppAPIMethod(h,r[h],r,n)}}catch(f){o={error:f}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}},e.prototype.decorateAppAPIMethod=function(r,t,n,o){var i=this;return function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return Or(i,void 0,void 0,function(){var h;return $r(this,function(f){switch(f.label){case 0:if(h=this._appAPIlock,h)return[2,Promise.reject(new Le("Ledger Device is busy (lock "+h+")","TransportLocked"))];f.label=1;case 1:return f.trys.push([1,,3,4]),this._appAPIlock=r,this.setScrambleKey(o),[4,t.apply(n,c)];case 2:return[2,f.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}})})}},e.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",e.ErrorMessage_NoDeviceFound="No Ledger device found",e}(),ro=5;function pm(e){var r=ee.Buffer.alloc(2);return r.writeUInt16BE(e,0),r}var dm={data:ee.Buffer.alloc(0),dataLength:0,sequence:0},vm=function(e,r){return{makeBlocks:function(t){var n=ee.Buffer.concat([pm(t.length),t]),o=r-5,i=Math.ceil(n.length/o);n=ee.Buffer.concat([n,ee.Buffer.alloc(i*o-n.length+1).fill(0)]);for(var c=[],u=0;u<i;u++){var h=ee.Buffer.alloc(5);h.writeUInt16BE(e,0),h.writeUInt8(ro,2),h.writeUInt16BE(u,3);var f=n.slice(u*o,(u+1)*o);c.push(ee.Buffer.concat([h,f]))}return c},reduceResponse:function(t,n){var o=t||dm,i=o.data,c=o.dataLength,u=o.sequence;if(n.readUInt16BE(0)!==e)throw new Le("Invalid channel","InvalidChannel");if(n.readUInt8(2)!==ro)throw new Le("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==u)throw new Le("Invalid sequence","InvalidSequence");t||(c=n.readUInt16BE(5)),u++;var h=n.slice(t?5:7);return i=ee.Buffer.concat([i,h]),i.length>c&&(i=i.slice(0,c)),{data:i,dataLength:c,sequence:u}},getReducedResult:function(t){if(t&&t.dataLength===t.data.length)return t.data}}},ym=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ae=globalThis&&globalThis.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(d){try{f(n.next(d))}catch(g){c(g)}}function h(d){try{f(n.throw(d))}catch(g){c(g)}}function f(d){d.done?i(d.value):o(d.value).then(u,h)}f((n=n.apply(e,r||[])).next())})},Se=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(d){return h([f,d])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(e,t)}catch(d){f=[6,d],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},gm=globalThis&&globalThis.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,i=[],c;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){c={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return i},Em=[{vendorId:is}],mm=function(){return Promise.resolve(!!(window.navigator&&window.navigator.hid))},kr=function(){var e=navigator.hid;if(!e)throw new Le("navigator.hid is not supported","HIDNotSupported");return e};function ps(){return Ae(this,void 0,void 0,function(){var e;return Se(this,function(r){switch(r.label){case 0:return[4,kr().requestDevice({filters:Em})];case 1:return e=r.sent(),Array.isArray(e)?[2,e]:[2,[e]]}})})}function Yt(){return Ae(this,void 0,void 0,function(){var e;return Se(this,function(r){switch(r.label){case 0:return[4,kr().getDevices()];case 1:return e=r.sent(),[2,e.filter(function(t){return t.vendorId===is})]}})})}function bm(){return Ae(this,void 0,void 0,function(){var e,r;return Se(this,function(t){switch(t.label){case 0:return[4,Yt()];case 1:return e=t.sent(),e.length>0?[2,e[0]]:[4,ps()];case 2:return r=t.sent(),[2,r[0]]}})})}var _m=function(e){ym(r,e);function r(t){var n=e.call(this)||this;return n.channel=Math.floor(Math.random()*65535),n.packetSize=64,n.inputs=[],n.read=function(){return n.inputs.length?Promise.resolve(n.inputs.shift()):new Promise(function(o){n.inputCallback=o})},n.onInputReport=function(o){var i=ee.Buffer.from(o.data.buffer);n.inputCallback?(n.inputCallback(i),n.inputCallback=null):n.inputs.push(i)},n._disconnectEmitted=!1,n._emitDisconnect=function(o){n._disconnectEmitted||(n._disconnectEmitted=!0,n.emit("disconnect",o))},n.exchange=function(o){return Ae(n,void 0,void 0,function(){var i,c=this;return Se(this,function(u){switch(u.label){case 0:return[4,this.exchangeAtomicImpl(function(){return Ae(c,void 0,void 0,function(){var h,f,d,g,b,_,R,$,C;return Se(this,function(k){switch(k.label){case 0:h=this,f=h.channel,d=h.packetSize,Ne("apdu","=> "+o.toString("hex")),g=vm(f,d),b=g.makeBlocks(o),_=0,k.label=1;case 1:return _<b.length?[4,this.device.sendReport(0,b[_])]:[3,4];case 2:k.sent(),k.label=3;case 3:return _++,[3,1];case 4:return(R=g.getReducedResult($))?[3,6]:[4,this.read()];case 5:return C=k.sent(),$=g.reduceResponse($,C),[3,4];case 6:return Ne("apdu","<= "+R.toString("hex")),[2,R]}})})}).catch(function(h){throw h&&h.message&&h.message.includes("write")?(c._emitDisconnect(h),new Ba(h.message)):h})];case 1:return i=u.sent(),[2,i]}})})},n.device=t,n.deviceModel=typeof t.productId=="number"?Vi(t.productId):void 0,t.addEventListener("inputreport",n.onInputReport),n}return r.request=function(){return Ae(this,void 0,void 0,function(){var t,n;return Se(this,function(o){switch(o.label){case 0:return[4,ps()];case 1:return t=gm.apply(void 0,[o.sent(),1]),n=t[0],[2,r.open(n)]}})})},r.openConnected=function(){return Ae(this,void 0,void 0,function(){var t;return Se(this,function(n){switch(n.label){case 0:return[4,Yt()];case 1:return t=n.sent(),t.length===0?[2,null]:[2,r.open(t[0])]}})})},r.open=function(t){return Ae(this,void 0,void 0,function(){var n,o;return Se(this,function(i){switch(i.label){case 0:return[4,t.open()];case 1:return i.sent(),n=new r(t),o=function(c){t===c.device&&(kr().removeEventListener("disconnect",o),n._emitDisconnect(new po))},kr().addEventListener("disconnect",o),[2,n]}})})},r.prototype.close=function(){return Ae(this,void 0,void 0,function(){return Se(this,function(t){switch(t.label){case 0:return[4,this.exchangeBusyPromise];case 1:return t.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return t.sent(),[2]}})})},r.prototype.setScrambleKey=function(){},r.isSupported=mm,r.list=Yt,r.listen=function(t){var n=!1;bm().then(function(i){if(!i)t.error(new Bn("Access denied to use Ledger device"));else if(!n){var c=typeof i.productId=="number"?Vi(i.productId):void 0;t.next({type:"add",descriptor:i,deviceModel:c}),t.complete()}},function(i){t.error(new Bn(i.message))});function o(){n=!0}return{unsubscribe:o}},r}(hm);console.log("\u{1F680} New tab is running in production mode");As({id:"webhid",open:e=>e.startsWith("webhid")?_m.create():null,disconnect:e=>e.startsWith("webhid")?Promise.resolve():null});function wm(){const e=document.querySelector("#app-container");if(!e)throw new Error("Can not find #app-container");ws(e).render(Rr(nm,{}))}wm();
